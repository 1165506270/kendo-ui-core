<div id="example" class="k-content">
    <div class="chart-wrapper">
        <h2>Sales statistics</h2>
        <div id="chart-oct"></div>
        <div id="chart-nov"></div>
        <div id="chart-dec"></div>
    </div>
    <div class="configuration-horizontal">
        <span class="configHead">Funnel configuration</span>
        <div class="config-section">
            <ul class="options">
                <li><label for="neckSlider">Neck Size ratio</label></li>
                <li><input id="neckSlider" value="0.3"/></li>
            </ul>
        </div>
        <div class="config-section">
            <ul class="options">
                <li>Segment slope based on:</li>
                <li>
                    <label><input type="radio" name="segmentMethod" value="default" checked /> default (neckRatio is used) </label><br />
                    <label><input type="radio" name="segmentMethod" value="relation" />Value Relation </label>
                </li>
            </ul>
        </div>
        <div class="config-section">
            <ul class="options">
                <li>Segment height based on:</li>
                <li>
                    <label><input type="radio" name="segmentHeight" value="proportional" checked /> Proportional  </label><br />
                    <label><input type="radio" name="segmentHeight" value="equal" /> Equal Size </label>
                </li>
            </ul>
        </div>
    </div>
    <style scoped>
        .chart-wrapper {
            height: 360px;
        }
        .chart-wrapper h2 {
            padding: 20px 0 0 25px;
        }
        #chart-oct,
        #chart-nov,
        #chart-dec {
            display: inline-block;
            width: 180px;
            height: 300px;
            margin: 15px 25px;
        }
        .options li {
            padding-bottom: 10px;
        }
    </style>
    <script>
        function createChart() {
            $("#chart-oct").kendoChart({
                title: {
                    text: "October",
                    position: "bottom"
                },
                legend: {
                    visible: false
                },
                seriesDefaults: {
                    labels: {
                        visible: true,
                        background: "transparent",
                        color:"white",
                        format: "N0"
                    }
                },
                series: [{
                    type: "funnel",
                    dynamicWidth: true,
                    data: [{
                        category: "Impressions ",
                        value: 434823,
                        color: "#0e5a7e"
                    },{
                        category: "Clicks",
                        value: 356854,
                        color: "#166f99"
                    },{
                        category: "Unique Visitors",
                        value: 280022,
                        color: "#2185b4"
                    },{
                        category: "Downloads",
                        value: 190374,
                        color: "#319fd2"
                    },{
                        category: "Purchases",
                        value: 120392,
                        color: "#3eaee2"
                    }]
                }],
                tooltip: {
                    visible: true,
                    template: "#= dataItem.category #"
                }
            });
            
            $("#chart-nov").kendoChart({
                title: {
                    text: "November",
                    position: "bottom"
                },
                legend: {
                    visible: false
                },
                seriesDefaults: {
                    labels: {
                        visible: true,
                        background: "transparent",
                        color:"white",
                        format: "N0"
                    }
                },
                series: [{
                    type: "funnel",
                    dynamicWidth: true,
                    data: [{
                        category: "Impressions ",
                        value: 984528,
                        color: "#0e5a7e"
                    },{
                        category: "Clicks",
                        value: 856287,
                        color: "#166f99"
                    },{
                        category: "Unique Visitors",
                        value: 643694,
                        color: "#2185b4"
                    },{
                        category: "Downloads",
                        value: 567843,
                        color: "#319fd2"
                    },{
                        category: "Purchases",
                        value: 389137,
                        color: "#3eaee2"
                    }]
                }],
                tooltip: {
                    visible: true,
                    template: "#= dataItem.category #"
                }
            });
            
            $("#chart-dec").kendoChart({
                title: {
                    text: "December",
                    position: "bottom"
                },
                legend: {
                    visible: false
                },
                seriesDefaults: {
                    labels: {
                        visible: true,
                        background: "transparent",
                        color:"white",
                        format: "N0"
                    }
                },
                series: [{
                    type: "funnel",
                    dynamicWidth: true,
                    data: [{
                        category: "Impressions ",
                        value: 1200528,
                        color: "#0e5a7e"
                    },{
                        category: "Clicks",
                        value: 989287,
                        color: "#166f99"
                    },{
                        category: "Unique Visitors",
                        value: 885694,
                        color: "#2185b4"
                    },{
                        category: "Downloads",
                        value: 788843,
                        color: "#319fd2"
                    },{
                        category: "Purchases",
                        value: 694137,
                        color: "#3eaee2"
                    }]
                }],
                tooltip: {
                    visible: true,
                        template: "#= dataItem.category #"
                }
            });
        }

        function refresh() {
            var chart = $("#chart").data("kendoChart"),
                slider = $('#neckSlider').data("kendoSlider"),
                funnelSeries = chart.options.series[0];
                
            chart.options.transitions = false;
            funnelSeries.neckRatio = slider.value();
            funnelSeries.dynamicHeight = $('.dynamicHeight :checked').val();
            funnelSeries.dynamicWidth = $('.dynamicWidth :checked').val();

           
            slider.enable(funnelSeries.segmentMethod != "relation");
            chart.refresh();
        }

        $(document).ready(function () {
            createChart();
            $("#neckSlider").kendoSlider({
                change: refresh,
                min: 0,
                max: 10,
                smallStep: 0.01,
                largeStep: 0.1
            });

            $('.segmentMethod,.segmentHeight').on('click', ':radio', refresh);
        });
        $(document).bind("kendo:skinChange", createChart);
    </script>
</div>
