<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Animations</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.js" type="text/javascript" charset="utf-8"></script>
        <style type="text/css" media="screen">
            .animatee
            {
                width: 200px;
                height: 200px;
                background: red;
            }
        </style>
    </head>
    <body>
        <button>play</button>
        <div class="animatee">
            Click the button to animate me
        </div>
        <div class="animatee" style="background: blue">
            Click the button to animate me
        </div>
        <script type="text/javascript" charset="utf-8">
            var slideIn = function(element, complete) {
                if (!element.parent().is(".t-animation-container")) {
                    element.wrap('<div class="t-animation-container"/>').parent();
                }

                element.css("marginLeft",-element.outerWidth()).animate({
                    marginLeft:0
                }, {
                    duration: "slow",
                    queue: false,
                    complete: complete
                });
            }

            var fadeOut = function(element, complete) {
                element.animate({
                    opacity: 0
                }, { 
                    duration: "slow",
                    queue: false,
                    complete: complete
                });
            }

            var fadeIn = function(element, complete) {
                element.animate({
                    opacity: 1
                }, { 
                    duration: "slow",
                    queue: false,
                    complete: complete
                });
            }

            $.fn.kendoAnimate = function(effects) {
                var that = this;

                return that.queue( function () {
                    var promises = $.map(effects, function(effect) {
                        return $.Deferred(function(deferred) {
                            window[effect](that, deferred.resolve);
                        }).promise();
                    });

                    $.when.apply(null, promises).then(function() {
                        that.dequeue();
                    });
                });
            }

            $(document).ready(function() {
                $("button").click(function() {
                    //
                    //var effects = $.telerik.fx.slide.defaults();
                    //$.telerik.fx.rewind(effects, $("#animatee"));
                    // $.telerik.fx.play(effects, $("#animatee"));
                    $(".animatee").kendoAnimate(["slideIn", "fadeOut"]).kendoAnimate(["fadeIn"]);
                });
            });
        </script>
    </body>
</html>
