<!DOCTYPE html>
<html>
  <head>
    <link type="text/css" href="../../styles/web/kendo.common.less" rel="stylesheet"/>
    <link type="text/css" href="../../styles/web/kendo.blueopal.less" rel="stylesheet/less"/>
    <script type="text/javascript" src="../../build/less-js/dist/less-1.6.0.min.js"></script>
    <script src="../require.js"></script>
    <script>
    require.config({
        baseUrl: "../../src",
        paths: {
            cultures: "cultures",
        }
    });

    require([ "jquery.min",
              "kendo.dataviz.chart" ], function(){

      $("#chart").kendoChart({
        title: {
          text: "Browser Usage Trends"
        },
        legend: {
          position: "bottom"
        },
        seriesDefaults: {
          type: "area",
          stack: true,
          area: {
            line: {
              style: "smooth",
              width: 2,
              color: "red"
            }
          }
        },
        series: [{
          name: "Chrome",
          data: [0, 0, 0, 0, 3.6, 9.8, 22.4, 34.6]
        },{
          name: "Firefox",
          data: [0, 23.6, 29.9, 36.3, 44.4, 46.4, 43.5, 37.7]
        },{
          name: "Internet Explorer",
          data: [76.2, 68.9, 60.6, 56.0, 46.0, 37.2, 27.5, 20.2]
        },{
          name: "Mozilla",
          data: [16.5, 2.8, 2.5, 1.2, 0, 0, 0, 0]
        },{
          name: "Opera",
          data: [1.6, 1.5, 1.5, 1.6, 2.4, 2.3, 2.2, 2.5]
        },{
          name: "Safari",
          data: [0, 0, 0, 1.8, 2.7, 3.6, 3.8, 4.2]
        }],
        valueAxis: {
          labels: {
            format: "{0}%"
          },
          line: {
            visible: false
          },
          axisCrossingValue: -10,
          max: 100
        },
        categoryAxis: {
          categories: [2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011],
          majorGridLines: {
            visible: false
          }
        },
        tooltip: {
          visible: true,
          format: "{0}%",
          template: "#= series.name #: #= value #%"
        }
      });

    });
    </script>
    <style>
        #chart {
            width: 800px;
            height: 500px;
            float: left;
        }
    </style>
  </head>
  <body>
      <div id="chart"></div>
      <button>redraw</button>
      <button onclick="pdf()">pdf</button>
      <script>
        function pdf() {
          $("#chart").getKendoChart().exportPDF().then(function(data){
            kendo.saveAs({ dataURI: data, fileName: "kendo.pdf" });
          });
        }
      </script>
  </body>
</html>
