<!DOCTYPE html>
<html>
    <head>
        <title>Funnel chart</title>
        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.userevents.js"></script>
        <script src="../src/kendo.data.js"></script>
        <script src="../src/kendo.dataviz.core.js"></script>
        <script src="../src/kendo.dataviz.chart.js"></script>
        <script src="../src/kendo.dataviz.chart.funnel.js"></script>
        <script src="../src/kendo.dataviz.themes.js"></script>
        <script src="../src/kendo.dataviz.vml.js"></script>
        <script src="../src/kendo.dataviz.svg.js"></script>
        <script src="../src/kendo.dataviz.canvas.js"></script>
        <link href="../styles/dataviz/kendo.dataviz.css" rel="stylesheet" />
        <style>
            .k-chart {
                width: 200px;
                height: 300px;
                float: left;
            }
        </style>
    </head>
    <body>
        <div id="funnel-equal"></div>
        <div id="funnel-equal-spacing"></div>
        <div id="funnel-height"></div>
        <div id="funnel-height-increasingWidth"></div>
        <div id="funnel-height-spacing"></div>
        <div id="funnel-relation"></div>
        <div id="funnel-relation-spacing"></div>
        <div id="funnel-relation-equalHeight"></div>
        <div id="funnel-relation-spacing-equalHeight"></div>
        <script>
            var seriesData = [{
                value: 10,
                category: "trials"
            }, {
                value: 30,
                category: "enquiries"
            }, {
                value: 10,
                category: "purchases"
            }];

            $("#funnel-equal").kendoChart({
                series: [{
                    type: "funnel",
                    segmentHeight:"equal",
                    data: seriesData
                }],
                seriesClick: function(e) {
                    console.log("click", e);
                },
                seriesHover: function(e) {
                    console.log("hover", e);
                },
                tooltip: {
                    visible: true
                }
            });

            $("#funnel-equal-spacing").kendoChart({
                series: [{
                    type: "funnel",
                    segmentHeight:"equal",
                    data: seriesData,
                    segmentSpacing: 25
                }]
            });

            $("#funnel-height").kendoChart({
                series: [{
                    type: "funnel",
                    segmentMethod:"height",
                    neckSize:0.6,
                    data: seriesData,
                    labels: {
                        align: function(context) { return context.index % 2 === 0 ? "left" : "right"; },
                        margin: 5,
                        template: "My Template #=value#"
                    }
                }]
            });

            $("#funnel-height-increasingWidth").kendoChart({
                series: [{
                    type: "funnel",
                    segmentMethod:"height",
                    neckSize:3,
                    data: seriesData,
                    labels: {
                        align: function(context) { return context.index % 2 === 0 ? "left" : "right"; },
                        margin: 5,
                        template: "My Template #=value#"
                    }
                }]
            });

            $("#funnel-height-spacing").kendoChart({
                series: [{
                    type: "funnel",
                    segmentMethod:"height",
                    neckSize:0.6,
                    data: seriesData,
                    segmentSpacing:10,
                    labels: {
                        align: "left"
                    }
                }]
            });

            var relationData = [{
                            value: 1,
                            category: "trials"
                        }, {
                            value: 5,
                            category: "enquiries"
                        }, {
                            value: 7,
                            category: "enquiries"
                        } , {
                            value: 27,
                            category: "enquiries"
                        } , {
                            value: 72,
                            category: "enquiries"
                        } , {
                            value: 7,
                            category: "enquiries"
                        } , {
                            value: 50,
                            category: "enquiries"
                        } ];

            $("#funnel-relation").kendoChart({
                series: [{
                    type: "funnel",
                    segmentMethod:"relation",
                    data: relationData,
                    labels:{
                        color: 'white'
                    }
                }]
            });

            $("#funnel-relation-spacing").kendoChart({
                series: [{
                    type: "funnel",
                    segmentMethod:"relation",
                    data: relationData,
                    segmentSpacing : 20
                }]
            });

            $("#funnel-relation-equalHeight").kendoChart({
                series: [{
                    type: "funnel",
                    segmentHeight:"equal",
                    segmentMethod:"relation",
                    data: relationData,
                    labels:{
                        color: 'white'
                    }
                }]
            });

            $("#funnel-relation-spacing-equalHeight").kendoChart({
                series: [{
                    type: "funnel",
                    segmentHeight:"equal",
                    segmentMethod:"relation",
                    data: relationData,
                    segmentSpacing : 20
                }]
            });
        </script>
    </body>
</html>

