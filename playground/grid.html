<!DOCTYPE html>
<html>
    <head>
        <title>grid</title>
        <!--<script src="../src/jquery.js"></script>
        <script src="../src/kendo.loader.js"></script>
        <script>
            kendo.loader.grid({ sortable: true, pageable: true, selectable: true });
        </script>-->
         <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.query.js"></script>
        <script src="../src/kendo.pager.js"></script>
        <script src="../src/kendo.sortable.js"></script>
        <script src="../src/kendo.draganddrop.js"></script>
        <script src="../src/kendo.groupable.js"></script>
        <script src="../src/kendo.datasource.js"></script>
        <script src="../src/kendo.grid.js"></script>

        <link href="../styles/kendo.common.css" type="text/css" rel="stylesheet" />
        <link href="../styles/kendo.vista.css" type="text/css" rel="stylesheet" />
    </head>
    <body>
        <table id="table1" style="height: 400px">
        </table>
        <script>
            var index = 0;
            $(document).ready(function() {
                var total = 1000000,
                     remoteDataSource = new kendo.data.DataSource({
                         serverPaging: true,
                         pageSize: 40,
                         transport: {
                             read: {
                                 url: "http://services.odata.org/Northwind/Northwind.svc/Orders",
                                 dataType: "jsonp",
                                 jsonpCallback: "callback",
                                 cache: true
                             },
                             dialect: {
                                 read: function(options) {
                                     return kendo.format("$format=json&$top={0}&$skip={1}&$inlinecount=allpages&$callback=callback", options.take, options.skip);
                                 }
                             }
                         },
                         schema: {
                             data: function(result) {
                                 return result.d.results;
                             },
                             total: function(result) {
                                 return result.d.__count;
                             }
                         }
                    }),
                    remoteDataSource2 = new kendo.data.DataSource({
                        serverPaging: true,
                        pageSize: 20,
                        transport: {
                            read: {
                                url: "http://korchev/Telerik.Mvc.Examples/Grid/_FirstLook",
                                type: "POST",
                                dataType: "json",
                                cache: true
                            },
                            dialect: {
                                read: function(options) {
                                    return { page: options.page, size: 20 };
                                }
                            }
                        },
                        schema: {
                            data: function(result) {
                                return result.data;
                            },
                            total: function(result) {
                                return result.total;
                            }
                        }
                    }),
                    dataSource = new kendo.data.DataSource({
                        serverPaging: true,
                        transport: {
                            read: function(options) {
                                var take = options.data.take,
                                skip = options.data.skip;

                                var data = [];

                                for (var i = skip; i < Math.min(skip + take, total); i++) {
                                    data.push({ OrderID: i + 10248, CustomerID: "Contact " + i });
                                }

                                options.success(data);
                            }
                        } ,
                        schema: {
                            data: function(data) {
                                return data;
                            },
                            total: function() {
                                return total;
                            }
                        },
                        pageSize: 20
                    });


                $("#table1").kendoGrid({
                    dataSource: {
                        data: $.map(new Array(1000), function(value, index) {
                            return {
                                Group: index % 10,
                                OrderID: index,
                                CustomerID: "Contact " + index
                            };
                        }),
                        pageSize: 20
                    },
                    columns: [ {
                        title: "Foo",
                        template: "<div style='line-height: <%= [50, 60, 70][OrderID % 3] %>px'><%= Group %></div>"
                    }, "OrderID", "CustomerID"],
                    scrollable: {
                        virtual: true
                    },
                    sortable: {
                        allowUnsort: false
                    }
                });
            });
        </script>

    </body>
</html>
