<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../dist/styles/web/kendo.common.css" />
    <link rel="stylesheet" href="../dist/styles/web/kendo.default.css" />
    <script src="loader.js"></script>
    <script>
      requireSync([
        "../src/jquery.js",
        "../src/kendo.all.js",
      ]);
    </script>

    <script src="./pako.min.js"></script>

    <script>
        kendo.pdf.defineFont({
            "Verdana"             : "./Verdana/Verdana.ttf",
            "Verdana|Bold"        : "./Verdana/Verdana_Bold.ttf",
            "Verdana|Bold|Italic" : "./Verdana/Verdana_Bold_Italic.ttf",
            "Verdana|Italic"      : "./Verdana/Verdana_Italic.ttf"
        });
    </script>

    <style>
      body {
        margin: 0; padding: 1em;
        font-size: 12px;
        background: #ffc;
        font-family: Verdana;
      }
      .k-widget, button {
        font-family: Verdana !important;
      }
    </style>
  </head>
  <body>
    <table cellspacing="0" cellpadding="0"><tr><td>
      <div style="width: 20em; margin: 1em">
        <div id="grid"></div>
        <button onclick="getPDF('#grid')">Get PDF</button>
        <button onclick="draw('#grid')">Draw</button>
      </div>
    </td><td>
      <div style="width: 20em; margin: 1em">
        <div id="tree"></div>
        <button onclick="getPDF('#tree')">Get PDF</button>
        <button onclick="draw('#tree')">Draw</button>
      </div>
    </td></tr></table>

    <table cellspacing="0" cellpadding="0"><tr><td>
      <div style="width: 20em; margin: 1em">
        <div id="calendar"></div>
        <button onclick="getPDF('#calendar')">Get PDF</button>
        <button onclick="draw('#calendar')">Draw</button>
      </div>
    </td><td>
      Won't work (no gradients; no &lt;input&gt;):<br />
      <div style="width: 30em; margin: 1em">
        <div id="flatcolorpicker"></div><br/>
        <button onclick="getPDF('#flatcolorpicker')">Get PDF</button>
        <button onclick="draw('#flatcolorpicker')">Draw</button>
      </div>
    </td></tr></table>

    <table cellspacing="0" cellpadding="0"><tr><td>
      <div style="width: 30em; margin: 1em">
        <textarea id="editor"></textarea>
        <button onclick="getPDF('#editor')">Get PDF</button>
        <button onclick="draw('#editor')">Draw</button>
      </div>
    </td><td>
      <input id="slider" />
    </td></tr></table>

    <button onclick="getPDF('body')">PDF all</button>
    <button onclick="draw('body')">Draw all</button>

    <script>
      function getEl(sel) {
        var widget = kendo.widgetInstance($(sel));
        if (widget) return widget.wrapper || widget.element;
        return $(sel);
      }

      function getPDF(sel) {
        var el = getEl(sel)[0];
        kendo.dataviz.drawing.drawDOM(el, function(root){
          kendo.dataviz.drawing.pdf.toDataURL(root, window.open);
        });
      }

      function draw(sel) {
        var el = getEl(sel)[0];
        kendo.dataviz.drawing.drawDOM(el, function(root){
          var el = $("<div class='surface' style='position: absolute; background: white; right: 1em; top: 1em; bottom: 1em; border: 1px solid #000; width: 600px'></div>").appendTo(document.body);
          var surface = kendo.dataviz.drawing.Surface.create(el);
          surface.draw(root);
        });
      }

      $("#grid").kendoGrid({
        sortable: true,
        selectable: true,
        dataSource: [
          { id: 1, text: "Foo" },
          { id: 2, text: "Bar" },
          { id: 3, text: "Baz" },
          { id: 4, text: "½ ăşţîâ ¾" }
        ],
        columns: [
          { title: "ID", field: "id" },
          { title: "Text", field: "text" }
        ]
      });

      $("#calendar").kendoCalendar();

      $("#editor").kendoEditor();

      $("#tree").kendoTreeView({
        dataSource: [
          { text: "This is a" },
          { text: "TreeView", expanded: true, items: [
            { text: "Subitem" },
            { text: "Foo bar" }
          ] }
        ]
      });

      $("#flatcolorpicker").kendoFlatColorPicker();

      $("button").kendoButton();

      $("#slider").kendoSlider({ orientation: "vertical" });

    </script>
  </body>
</html>
