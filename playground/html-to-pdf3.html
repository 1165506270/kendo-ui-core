<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../dist/styles/web/kendo.common.css" />
    <link rel="stylesheet" href="../dist/styles/web/kendo.default.css" />
    <script src="loader.js"></script>
    <script>
      requireSync([
        "../src/jquery.js",
        "../src/kendo.dataviz.drawing.js",
        "./html-drawing.js"
      ]);
    </script>

    <script>
        kendo.PDF.defineFont({
            "Verdana"             : "./Verdana/Verdana.ttf",
            "Verdana|Bold"        : "./Verdana/Verdana_Bold.ttf",
            "Verdana|Bold|Italic" : "./Verdana/Verdana_Bold_Italic.ttf",
            "Verdana|Italic"      : "./Verdana/Verdana_Italic.ttf"
        });
    </script>

    <style>
      body {
        margin: 0; padding: 1em;
        font-size: 12px;
        background: #ffc;
        font-family: Verdana;
      }
      .k-widget, button {
        font-family: Verdana !important;
      }

      .test {
        border-width: 25px 10px 15px 5px;
        border-color: red green blue orange;
        border-style: solid;
        border-radius: 40px 50px 60px 70px;
        background: rgba(255, 255, 200, 0.5);
        padding: 1em;
        margin: 1em;
        color: red;
        box-sizing: border-box;
        transform: rotate(5deg);
        text-align: justify;
      }

      .test span {
        border: 1px solid #777;
        background: rgba(0, 1, 0, 0.15);
      }
      .test span b {
        background: #fea;
      }
    </style>
  </head>
  <body>

    <button onclick="pdf('#test1')">PDF</button>
    <div id="test1" style="padding: 2em">

      <img src="images/4.jpg" width="200px"
           style="margin-left: 1em;
                  border: 2px solid black;
                  padding: 5px;
                  position: absolute;
                  z-index: 5;
                  opacity: 0.7;
                  transform: rotate(15deg);
                  left: 10px;
                  border-radius: 20px;
                  background: yellow;" />

      <img src="images/4.jpg" width="200px"
           style="margin-left: 1em;
                  border: 2px solid black;
                  padding: 5px;
                  position: absolute;
                  top: 450px;
                  z-index: 3;
                  opacity: 0.7;
                  transform: rotate(15deg);
                  left: 100px;
                  border-top-left-radius: 20px 80px;
                  background: yellow;" />

      <div style="width: 30%; font: 14px/24px verdana; position: relative; z-index: 10; direction: ltr" class="test">
        <span>
          This is a nonsensical document, but syntactically valid HTML 4.0. All
          100% conformant CSS1 agents should be able to render the document
          elements above this paragraph <b>indistinguishably</b> (to the pixel)
          from this reference rendering, (except font rasterization and form
          widgets). All discrepancies should be traceable to CSS1 implementation
          shortcomings. Once you have finished evaluating this test, you can
          return to the <A HREF="sec5526c.htm"
          style="text-decoration:none">parent page</A>.
        </span>
      </div>
      <!-- <div style="width: 500px; height: 100px; overflow: hidden; border: 1px solid black; position: relative"> -->
      <!--   Opacity: <b>broken</b>; border-radius: <b>broken</b><br /> CSS -->
      <!--   transforms: <b>broken</b>.  Shape A: translate by -origin, apply -->
      <!--   transform, render element.  Shape B: translate by +origin, append A. -->
      <!--   Return B.<br /> -->
      <!--   <b>â‚¬</b> -->
      <!--   <div style="position: absolute; left: 50px; top: 50px; width: 100px; height: 100px; background: yellow; border: 1px solid red"> -->
      <!--     Implement clipping! -->
      <!--   </div> -->
      <!-- </div> -->
      <!-- <ul> -->
      <!--   <li>Render</li> -->
      <!--   <li>List</li> -->
      <!--   <li>Bullets</li> -->
      <!--   <li>Or numbers</li> -->
      <!-- </ul> -->
    </div>

    <script>
      function draw(sel) {
        var el = $(sel)[0];
        kendo.dataviz.drawing.drawDOM(el, function(root){
          var el = $("<div class='surface' style='position: absolute; background: white; right: 1em; top: 1em; bottom: 1em; border: 1px solid #000; width: 600px'></div>").appendTo(document.body);
          var surface = kendo.dataviz.drawing.Surface.create(el);
          surface.draw(root);
        });
      }

      function pdf(sel) {
        var el = $(sel)[0];
        kendo.dataviz.drawing.drawDOM(el, function(root){
          kendo.dataviz.drawing.pdf.toDataURL(root, window.open);
        });
      }

      $(document).ready(function(){
        setTimeout(function(){
          draw("#test1");
        }, 10);
      });
    </script>

  </body>
</html>
