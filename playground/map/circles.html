<!DOCTYPE html>
<html>
<head>
    <title>Map sandbox</title>
    <meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <link rel="stylesheet/less" type="text/css" href="../../styles/web/kendo.common.less" />
    <link rel="stylesheet/less" type="text/css" href="../../styles/web/kendo.default.less" />
    <link rel="stylesheet/less" type="text/css" href="../../styles/dataviz/kendo.dataviz.less" />
    <link rel="stylesheet/less" type="text/css" href="../../styles/dataviz/kendo.dataviz.default.less" />
    <script src="../../demos/mvc/content/shared/js/less.js"></script>
    <script src="proj4.js"></script>
    <script src="../require.js"></script>
    <script>
      require.config({
          baseUrl: "../../src",
          paths: {
              cultures: "cultures",
          }
      });
    </script>
</head>
<body>
    <div id="map"></div>
    <script>
    var demoData = {
        "type": "FeatureCollection",
        "features": [{
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [ 0, 52 ]
            },
            "properties": {
                "value": 10
            }
        }, {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [ 5, 52 ]
            },
            "properties": {
                "value": 15
            }
        }, {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [ 12, 52 ]
            },
            "properties": {
                "value": 20
            }
        }]
    };

    require([ "jquery.min", "kendo.dataviz.map" ], function(){
        $("#map").kendoMap({
            center: [52, 0],
            layers: [{
                type: "tile",
                urlTemplate: "http://tile2.opencyclemap.org/transport/#= zoom #/#= x #/#= y #.png",
                attribution: "&copy; <a href='http://osm.org/copyright'>OpenStreetMap</a> contributors"
            }, {
                type: "shape",
                attribution: "Foo",
                dataSource: {
                    type: "geojson",
                    transport: {
                        read: function(e) {
                            e.success(demoData);
                        }
                    }
                }
            }],
            markerCreated: function(e) {
                // Don't create a markers for GeoJSON Points
                e.preventDefault();
            },
            shapeCreated: function(e) {
                var value = e.shape.dataItem.properties.value;
                if (value) {
                    // A circle is created by default for GeoJSON Point geometries
                    // Just set its radius and color
                    e.shape.geometry.radius = value;
                    e.shape.fill("red", 0.5);
                }
            }
        });
    });
    </script>
</body>
</html>

