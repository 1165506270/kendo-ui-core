<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>MVC</title>
        <script src="../src/jquery.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.core.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.fx.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.query.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.data.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.popup.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.sortable.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.pager.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.grid.js" type="text/javascript" charset="utf-8"></script>
        <link rel="stylesheet" href="../styles/kendo.common.css" type="text/css" media="screen" charset="utf-8">
        <link rel="stylesheet" href="../styles/kendo.vista.css" type="text/css" media="screen" charset="utf-8">
        <style type="text/css" media="screen">
            .t-state-focused
            {
                background-color: red;
            }

            ul
            {
                padding: 0;
                margin: 0;
                border: 1px solid black;
                width: 200px;
            }
            ul li
            {
                list-style:none;
            }
        </style>
    </head>
    <body>
        <input placeholder="search" id="search" />
        <button>search</button>
        <table>
            <th data-field="result">Result</th>
        </table>

        <script type="text/javascript" charset="utf-8">
            var term;
            var dataSource = new kendo.data.DataSource({
                transport: {
                   read: function(options){
                       options.success([ {result: term + "1"}, { result: term + "2" }, { result: term + "3"}] );
                   }
                }
           });

           function HomeController() {
           }

            HomeController.prototype = {
                search: function(term) {
                    var view = new SearchView();
                    view.render(term);
                }
            }

            function SearchView() {
            }

            SearchView.prototype = {
                render: function(model) {
                    term = model;
                    $("#search").val(term);
                    if (term) {
                        dataSource.read();
                        $("table").fadeIn();
                    }
                }
            }

            $(document).ready(function() {
                $(window).bind("hashchange", hashchange);

                $("button").click(function() {
                    location.hash = "/search/" + encodeURIComponent($("#search").val());
                });

                $("table").kendoGrid( {
                    dataSource: dataSource
                }).hide();

                hashchange();
            });

            function hashchange() {
                var hash = location.hash.replace(/^\#\//g, ""),
                    route = hash.split("/");

                var controller = new HomeController();

                if (typeof controller[route[0]] === "function") {
                    controller[route[0]](route[1]);
                }
            }
        </script>
    </body>
</html>
