<!DOCTYPE html>
<html>
    <head>
        <title>MVVM</title>
        <link rel="stylesheet" href="../styles/web/kendo.common.css"/>
        <link rel="stylesheet/less" type="text/css" href="../styles/web/kendo.default.less"/>
        <link rel="stylesheet" type="text/css" href="../demos/mvc/content/shared/styles/examples.css"></link>

        <script src="../demos/mvc/content/shared/js/less.js"></script>

        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.data.js"></script>
        <script src="../src/kendo.draganddrop.js"></script>
        <script src="../src/kendo.binder.js"></script>
        <script src="../src/kendo.popup.js"></script>
        <script src="../src/kendo.list.js"></script>
        <script src="../src/kendo.dropdownlist.js"></script>
        <script src="../src/kendo.autocomplete.js"></script>
        <script src="../src/kendo.calendar.js"></script>
        <script src="../src/kendo.datepicker.js"></script>
        <script src="../src/kendo.timepicker.js"></script>
        <script src="../src/kendo.numerictextbox.js"></script>
        <script src="../src/kendo.fx.js"></script>
        <script src="../src/kendo.panelbar.js"></script>
        <script src="../src/kendo.tabstrip.js"></script>
        <script src="../src/kendo.window.js"></script>
        <script src="../src/kendo.upload.js"></script>
        <script src="../src/kendo.treeview.js"></script>
        <script src="../src/kendo.resizable.js"></script>
        <script src="../src/kendo.splitter.js"></script>
        <script src="../src/kendo.slider.js"></script>
        <script src="../src/kendo.grid.js"></script>
        <script src="../demos/mvc/content/shared/js/prettify.js"></script>
        <style>
            body {
                padding: 1em;
                margin: 1em;
            }

            table {
                table-layout: fixed;
                width: 100%;
                border: 1px solid black;
                border-collapse: collapse;
            }

            table td, table th {
                border: 1px solid black;
                padding: 5px;
            }
            .prettyprint {
                font-size: 1.2em;
            }
        </style>
    </head>
    <body>

        <button data-bind="click: setDataItem">click</button>

        <div data-bind="source:this" data-template="template"></div>

        <script id="template" type="text/foo">
            <div>
                <label data-bind="shortText: item.value"></value>
            </div>
        </script>

        <script>
            var viewModel = kendo.observable({
                item: {},
                blank: {},
                items: new kendo.data.DataSource({
                    data: [
                        { text: "1", value: "1" }
                    ]
                }),
                setDataItem: function() {
                    this.set("item", this.blank);
                    this.set("item", this.items.data()[0]);
                }
            });

            viewModel.items.read();

            kendo.data.binders.shortText = kendo.data.Binder.extend({
                refresh: function() {
                    console.log("binding refresh");
                }
            });

            kendo.bind(document.body, viewModel);

        </script>
    </body>
</html>
