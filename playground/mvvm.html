<!DOCTYPE html>
<html>
    <head>
        <title>MVVM</title>
        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.binder.js"></script>
        <script src="../src/kendo.model.js"></script>
        <script src="../src/kendo.data.js"></script>
        <script src="../src/kendo.grid.js"></script>
        <link rel="stylesheet" href="../styles/kendo.common.css"/>
        <link rel="stylesheet" href="../styles/kendo.default.css"/>
        <style>
            table, td, th {
                border: 1px solid black;
               border-collapse: collapse;
            }
        </style>
    </head>
    <body>
        <form>
            <button data-click="removeProduct">Remove a product</button>
            <button data-click="addProduct">Add a product</button>
            <button data-click="selectFirst">Select "Food"</button>

            <div>Selected product is: <span data-html="selectedProduct.name"></span></div>

            <fieldset>
                <legend>&lt;select multiple&gt;</legend>
                <select style="width: 200px"
                    data-value="selectedProduct"
                    data-template="option-tmpl"
                    data-source="products">
                </select>
                <script type="text/x-kendo-tmpl" id="option-tmpl">
                    <option value="${id}">${name}</option>
                </script>
            </fieldset>
            <fieldset>
                <legend>&lt;table&gt;</legend>
                <table data-source="products" data-template="tr-tmpl">
                    <thead>
                        <tr>
                            <th>Product Name</th>
                            <th>Product ID</th>
                        </tr>
                    </thead>
                </table>
                <script type="text/x-kendo-tmpl" id="tr-tmpl">
                    <tr>
                        <td>${name}</td>
                        <td>${id}</td>
                    </tr>
                </script>
            </fieldset>
        </form>

        <script>
            var viewModel = kendo.observable({
                products: [ { id: 1, name: "Food" }, { id: 2, name: "Beverages" } ],
                selectedProduct: {},
                selectFirst: function() {
                    this.set("selectedProduct", this.products[0]);
                    return false;
                },
                addProduct: function() {
                    this.products.push({ id: 3, name: "Coffee" });
                    return false;
                },
                removeProduct: function(e) {
                    this.products.splice(this.products.length-1, 1);
                    return false;
                }
            });

            viewModel.set("selectedProduct", viewModel.products[1]);

            kendo.bind($("form"), viewModel);
        </script>
    </body>
</html>

