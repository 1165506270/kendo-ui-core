RBTree=function(){var n=function(g){g=n.m[g];if(g.mod)return g.mod.exports;var b=g.mod={exports:{}};g(b,b.exports);return b.exports};n.m={};n.m["./treebase"]=function(g){function b(){}function c(a){this._tree=a;this._ancestors=[];this._cursor=null}b.prototype.clear=function(){this._root=null;this.size=0};b.prototype.find=function(a){for(var b=this._root;null!==b;){var c=this._comparator(a,b.data);if(0===c)return b.data;b=b.get_child(0<c)}return null};b.prototype.min=function(){var a=this._root;if(null===
a)return null;for(;null!==a.left;)a=a.left;return a.data};b.prototype.max=function(){var a=this._root;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data};b.prototype.iterator=function(){return new c(this)};b.prototype.each=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c)};b.prototype.reach=function(a){for(var b=this.iterator(),c;null!==(c=b.prev());)a(c)};c.prototype.data=function(){return null!==this._cursor?this._cursor.data:null};c.prototype.next=function(){if(null===
this._cursor){var a=this._tree._root;null!==a&&this._minNode(a)}else if(null===this._cursor.right){do if(a=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===a)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null};c.prototype.prev=function(){if(null===this._cursor){var a=this._tree._root;null!==a&&this._maxNode(a)}else if(null===this._cursor.left){do if(a=
this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===a)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null};c.prototype._minNode=function(a){for(;null!==a.left;)this._ancestors.push(a),a=a.left;this._cursor=a};c.prototype._maxNode=function(a){for(;null!==a.right;)this._ancestors.push(a),a=a.right;this._cursor=a};g.exports=b};n.m.__main__=function(g){function b(a){this.data=
a;this.right=this.left=null;this.red=!0}function c(a){this._root=null;this._comparator=a;this.size=0}function a(a){return null!==a&&a.red}function p(a,b){var d=a.get_child(!b);a.set_child(!b,d.get_child(b));d.set_child(b,a);a.red=!0;d.red=!1;return d}function q(a,b){a.set_child(!b,p(a.get_child(!b),!b));return p(a,b)}var r=n("./treebase");b.prototype.get_child=function(a){return a?this.right:this.left};b.prototype.set_child=function(a,b){a?this.right=b:this.left=b};c.prototype=new r;c.prototype.insert=
function(c){var g=!1;if(null===this._root)this._root=new b(c),g=!0,this.size++;else{var d=new b(void 0),h=0,k=0,l=null,j=d,f=null,e=this._root;for(j.right=this._root;;){null===e?(e=new b(c),f.set_child(h,e),g=!0,this.size++):a(e.left)&&a(e.right)&&(e.red=!0,e.left.red=!1,e.right.red=!1);if(a(e)&&a(f)){var m=j.right===l;e===f.get_child(k)?j.set_child(m,p(l,!k)):j.set_child(m,q(l,!k))}m=this._comparator(e.data,c);if(0===m)break;k=h;h=0>m;null!==l&&(j=l);l=f;f=e;e=e.get_child(h)}this._root=d.right}this._root.red=
!1;return g};c.prototype.remove=function(c){if(null===this._root)return!1;var g=new b(void 0),d=g;d.right=this._root;for(var h=null,k=null,l=null,j=1;null!==d.get_child(j);){var f=j,k=h,h=d,d=d.get_child(j),e=this._comparator(c,d.data),j=0<e;0===e&&(l=d);if(!a(d)&&!a(d.get_child(j)))if(a(d.get_child(!j)))k=p(d,j),h.set_child(f,k),h=k;else if(!a(d.get_child(!j))&&(e=h.get_child(!f),null!==e))if(!a(e.get_child(!f))&&!a(e.get_child(f)))h.red=!1,e.red=!0,d.red=!0;else{var m=k.right===h;a(e.get_child(f))?
k.set_child(m,q(h,f)):a(e.get_child(!f))&&k.set_child(m,p(h,f));f=k.get_child(m);f.red=!0;d.red=!0;f.left.red=!1;f.right.red=!1}}null!==l&&(l.data=d.data,h.set_child(h.right===d,d.get_child(null===d.left)),this.size--);this._root=g.right;null!==this._root&&(this._root.red=!1);return null!==l};g.exports=c};return n("__main__")}(window);
