<!DOCTYPE HTML>
<html>
    <head>
        <title>Scheduler</title>
        <link href="../styles/web/kendo.common.min.css" rel="stylesheet" />
        <link href="../styles/web/kendo.silver.min.css" rel="stylesheet" />

        <script src="../src/jquery.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.core.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.timezones.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.fx.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.userevents.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.draganddrop.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.mobile.scroller.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.validator.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.window.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.data.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.list.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.dropdownlist.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.multiselect.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.binder.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.popup.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.tooltip.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.calendar.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.datepicker.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.timepicker.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.datetimepicker.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.list.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.dropdownlist.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.editable.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.scheduler.view.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.scheduler.dayview.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.scheduler.agendaview.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.scheduler.monthview.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.scheduler.recurrence.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.scheduler.js" type="text/javascript" charset="utf-8"></script>
        <script src="../src/kendo.numerictextbox.js" type="text/javascript" charset="utf-8"></script>
        <style>

            html
            {
                font:12px sans-serif;
                overflow-y:scroll;
            }
/*
            .k-scheduler-header-wrap .k-scheduler-table,
            .k-scheduler-content .k-scheduler-table
            {
                width:140%;
            }
*/
            .k-event {
                min-height: 10px;
            }
        </style>
    </head>
    <body>
            <button>destroy</button>
            <div id="scheduler"></div>
            <script>
                $("button").click(function() {
                    $("#scheduler").kendoScheduler("destroy").empty();
                });

                $("#scheduler").kendoScheduler({
                    date: new Date("2013/6/13"),
                    views: ["week"],
                    startTime: new Date("2013/6/13 07:00 AM"),
                    dataSource: {
                        transport: {
                            read: {
                                url: "http://demos.telerik.com/kendo-ui/service/tasks",
                                dataType: "jsonp"
                            },
                            update: {
                                url: "http://demos.telerik.com/kendo-ui/service/tasks/update",
                                dataType: "jsonp"
                            },
                            create: {
                                url: "http://demos.telerik.com/kendo-ui/service/tasks/create",
                                dataType: "jsonp"
                            },
                            destroy: {
                                url: "http://demos.telerik.com/kendo-ui/service/tasks/destroy",
                                dataType: "jsonp"
                            },
                            parameterMap: function(options, operation) {
                                if (operation !== "read" && options.models) {
                                    return {models: kendo.stringify(options.models)};
                                }
                            }
                        },
                        schema: {
                            model: {
                                id: "taskId",
                                fields: {
                                    taskId: { from: "TaskID", type: "number" },
                                    title: { from: "Title", defaultValue: "No title", validation: { required: true } },
                                    start: { type: "date", from: "Start" },
                                    end: { type: "date", from: "End" },
                                    startTimezone: { from: "StartTimezone" },
                                    endTimezone: { from: "EndTimezone" },
                                    description: { from: "Description" },
                                    recurrenceId: { from: "RecurrenceID" },
                                    recurrenceRule: { from: "RecurrenceRule" },
                                    recurrenceException: { from: "RecurrenceException" },
                                    ownerId: { from: "OwnerID", defaultValue: 1 },
                                    isAllDay: { type: "boolean", from: "IsAllDay" }
                                }
                            }
                        },
                    }
                });
            </script>
    </body>
</html>
