<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" >
        <title>Spline</title>
        <link href="../styles/dataviz/kendo.dataviz.css" rel="stylesheet" />
        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.data.js"></script>
         <script src="../src/kendo.binder.js"></script>
        <script src="../src/kendo.userevents.js"></script>
        <script src="../src/kendo.dataviz.core.js"></script>
        <script src="../src/kendo.dataviz.chart.js"></script>
         <script src="../src/kendo.dataviz.chart.polar.js"></script>
        <script src="../src/kendo.dataviz.vml.js"></script>
        <script src="../src/kendo.dataviz.svg.js"></script>
        <script src="../src/kendo.dataviz.canvas.js"></script>
        <script src="../src/kendo.dataviz.themes.js"></script>
        <script src="CurveProcessor.js"></script>
        <style>
            #container input{
                width: 30px;
            }
        </style>
    </head>
    <body>
    <script id="template" type="text/kendo">
        <span>
            {<input data-bind="value: x"/>, <input data-bind="value: y"/>},
        </span>
    </script>
    <div id="container">
        [
        <span data-bind="source: data" data-template="template">
        </span>
        ]
        <button type="button" data-bind="click: push">Push</button>
        <button type="button" data-bind="click: pop">Pop</button>
    </div>
    <div id="scatterTester"></div>
    <script>
       var model = kendo.data.Model.define({
            fields:{
                x: {type: "number"},
                y: {type: "number"}
            }
       });

        var arr = new kendo.data.ObservableArray([new model({x: 2, y: 5}),new model({x: 2, y: 4}),new model({x:4, y: 3})]);
        var viewModel = kendo.observable({
            data: arr,
            push: function(){
                this.data.push(new model());
            },
            pop: function(){
                this.data.pop();
            }
        });
        kendo.bind($("#container"), viewModel);
         $("#scatterTester").kendoChart({
                seriesDefaults: {
                    type: "scatterLine",
                    style: "smooth",
                    width: 5
                },
                dataSource: arr,
                series: [{
                    xField: "x",
                    yField: "y"
                }],
                tooltip: {
                    visible: true,
                    format: "{{0},{1}}"
                }
            });

    </script>
  <--  <div id="polar2"></div>
    <div id="polar3"></div>
    <div id="polar"></div>
     <div id="polarArea"></div>
     <div id="radar"></div>-->
       <div id="radarArea"></div>
   <--   <div id="splineArea"></div>
     <div id="verticalSplineArea"></div>
     <div id="stackedArea"></div>
      <div id="verticalStackedArea"></div>
        <div id="testSpline"></div>
       <div id="scatter"></div>
       <div id="scatterBall"></div>
       <div id="spline"></div>
      <div id="basicSpline"></div>
     <div id="stackedSpline"></div>
        <div id="notesSpline"></div>
       <div id="splineGroupedData"></div>
    <div id="verticalSpline"></div> -->
    <script>

      var sunPos = [
            {"time":"08:00","altitude":4.9,"azimuth":92.7},
            {"time":"09:00","altitude":17.6,"azimuth":100.6},
            {"time":"10:00","altitude":30.1,"azimuth":109.7},
            {"time":"11:00","altitude":41.8,"azimuth":121.3},
            {"time":"12:00","altitude":51.8,"azimuth":137.7},
            {"time":"13:00","altitude":58.5,"azimuth":161.5},
            {"time":"14:00","altitude":59.4,"azimuth":190.7},
            {"time":"15:00","altitude":54.1,"azimuth":216.6},
            {"time":"16:00","altitude":44.8,"azimuth":234.8},
            {"time":"17:00","altitude":33.5,"azimuth":247.6},
            {"time":"18:00","altitude":21.2,"azimuth":257.2},
            {"time":"19:00","altitude":8.4,"azimuth":265.3},
        ];
    $("#polar3").kendoChart({
            title: {
                text: "Antenna Gain (dB)"
            },
            dataSource: {
                transport: {
                    read: {
                        url: "../demos/mvc/content/dataviz/js/antenna-gain.json",
                        dataType: "json"
                    }
                }
            },
            series: [{
                markers: {
                    visible: false,
                    size: 4
                },
                line: {
                    style: "smooth"
                 },
                type: "polarArea",
                xField: "azimuth",
                yField: "gain"
            }],
            xAxis: {
                majorUnit: 30
            }
        });
  $("#polar2").kendoChart({
            title: {
                text: "Sun position at equinox"
            },
            dataSource: {
                data: sunPos
            },
            series: [{
                 style: "smooth",
                 markers: {
                    visible: true,
                    size: 4
                },
                type: "polarLine",
                xField: "azimuth",
                yField: "altitude",
                labels: {
                    template: "#= dataItem.time.substring(0,2) #h",
                    position: "below",
                    visible: true
                }
            }],
            xAxis: {
                startAngle: -90,
                majorUnit: 30
            },
            yAxis: {
                labels: {
                    visible: false
                }
            }
        });
  $("#polar").kendoChart({
            title: {
                text: "Polar plot"
            },
            seriesDefaults: {
                type: "polarLine",
                 style: "smooth",
                markers: {
                    visible: false,
                    size: 4
                }
            },
            tooltip: {
                visible: true
            },
            series: [{
                data: [
                    [0, 0], [15, 2], [30, 4],
                    [45, 6], [60, 8], [75, 10],
                    [90, 12], [105, 14], [120, 16],
                    [135, 18], [150, 20], [165, 22],
                    [180, 24], [195, 26], [210, 28],
                    [225, 30], [240, 32], [255, 34],
                    [270, 36], [285, 38], [300, 40],
                    [315, 42], [330, 44], [345, 46],
                    [360, 48], [15, 50], [30, 52],
                    [45, 54], [60, 56], [75, 58], [90, 60]
                ]
            },{
                data: [
                    [0, 0], [15, 1], [30, 2],
                    [45, 3], [60, 4], [75, 5],
                    [90, 6], [105, 7], [120, 8],
                    [135, 9], [150, 10], [165, 11],
                    [180, 12], [195, 13], [210, 14],
                    [225, 15], [240, 16], [255, 17],
                    [270, 18], [285, 19], [300, 20],
                    [315, 21], [330, 22], [345, 23],
                    [360, 24], [15, 25], [30, 26],
                    [45, 27], [60, 28], [75, 29], [90, 30]
                ]
            },{
                data: [
                    [0, 0], [15, 3], [30, 6],
                    [45, 9], [60, 12], [75, 15],
                    [90, 18], [105, 21], [120, 24],
                    [135, 27], [150, 30], [165, 33],
                    [180, 36], [195, 39], [210, 42],
                    [225, 45], [240, 48], [255, 51],
                    [270, 54], [285, 57], [300, 60],
                    [315, 63], [330, 66], [345, 69],
                    [360, 72], [15, 75], [30, 78],
                    [45, 81], [60, 84], [75, 87], [90, 90]
                ]
            }]
        });
      $("#polarArea").kendoChart({
            title: {
                text: "Polar area"
            },
            legend: {
                position: "bottom"
            },
            series: [{
                type: "polarArea",
                line: {
                   style: "smooth"
                },
                markers: {
                    visible: true,
                    size: 4
                },
                data: [
                    [10, 10], [30, 20], [50, 30],
                    [70, 20], [90, 10], [90, 0],
                    [230, 10], [235, 20], [240, 30],
                    [245, 20], [250, 10]
                ]
            }]
        });
      $("#radar").kendoChart({
                title: {
                    text: "Market Value of Major Banks"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "radarLine",
                    style: "smooth",
                    markers: {
                        visible: false
                    }
                },
                series: [{
                    name: "Market value as of 2007",
                    data: [116, 165, 215, 75, 100, 49, 80, 116, 108, 90, 67, 76, 91, 255, 120]
                },{
                    name: "Market value as of 2009",
                    data: [64, 85, 97, 27, 16, 26, 35, 32, 26, 17, 10, 7, 19, 5]
                }],
                categoryAxis: {
                    categories: ["Santander", "JP Morgan", "HSBC", "Credit Suisse",
                        "Goldman Sachs", "Morgan Stanley", "Societe Generale", "UBS",
                        "BNP Paribas", "Unicredit", "Credit Agricole", "Deutsche Bank",
                        "Barclays", "Citigroup", "RBS"]
                },
                valueAxis: {
                    labels: {
                        format: "${0}"
                    }
                },
                tooltip: {
                    visible: true,
                    format: "${0} bln"
                }
            });
         $("#radarArea").kendoChart({
                title: {
                    text: "Employment candidate review"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "radarArea",
                    radarArea:{
                        line: {
                           style: "smooth"                           
                        },
                        stack: true,
                        markers: {
                            visible: false
                        }
                    }
                },
                series: [{
                    name: "Andrew Dodsworth",
                    data: [10, 3, 3, 10, 2, 10]
                }, {
                    name: "Margaret Peacock",
                    data: [9, 7, 7, 9, 6, 7]
                }, {
                    name: "Nancy Callahan",
                    data: [4, 10, 10, 5, 5, 4]
                }],
                categoryAxis: {
                    categories: [
                        "Experience", "Communication", "Friendliness",
                        "Subject knowledge", "Presentation", "Education"
                    ],
                    majorGridLines: {
                        visible: false
                    }
                }
            });
         $("#scatter").kendoChart({
                seriesDefaults: {
                    type: "scatterLine",
                    style: "smooth"
                },
                series: [{
                    data: [[1,2],[10,3],[9,1],[11,2],[10,0], [12,2]]
                }],
                tooltip: {
                    visible: true,
                    format: "{1}% in {0} minutes"
                }
            });
            $("#scatterBall").kendoChart({
                seriesDefaults: {
                    type: "scatterLine",
                     style: "smooth"
                },
                series: [{
                    name: "lqvo mudo",
                    data: [[1.25,0],[1,1.5],[1.25,3],[1.5,1.5],[1.25,0]]
                },{
                    name: "dqsno mudo",
                    data: [[2.75,0],[3,1.5],[2.75,3],[2.5,1.5],[2.75,0]]
                },{
                    name: "hui",
                    data: [[1.5,0],[2,0],[2.5,0],[2.5,10],[2,13],[1.5,10], [1.5,0]]
                }],
                tooltip: {
                    visible: true,
                    format: "{1}% in {0} minutes"
                }
            });
          var stocksDataSource = new kendo.data.DataSource({
                transport: {
                    read: {
                        url: function() {
                            return "stock-data-2011.json";
                        },
                        dataType: "json"
                    }
                },

                group: {
                    field: "symbol"
                },
                sort: {
                    field: "date",
                    dir: "asc"
                },

                schema: {
                    model: {
                        fields: {
                            date: {
                                type: "date"
                            }
                        }
                    }
                }
            });
            $("#spline").kendoChart({
                seriesDefaults: {
                    type: "line",
                     style: "smooth"
                },
                series: [
                {
                    color:"#2f7ed8",
                    name: "test",//incorrect display between 10.4 and 10.9
                    data: [4.3, 5.1, 4.3, 5.2, 5.4, 4.7, 3.5, 4.1, 5.6, 7.4, 6.9, 7.1,
                    7.9, 7.9, 7.5, 6.7, 7.7, 7.7, 7.4, 7.0, 7.1, 5.8, 5.9, 7.4,
                    8.2, 8.5, 9.4, 8.1, 10.9, 10.4, 10.9, 12.4, 12.1, 9.5, 7.5,
                    7.1, 7.5, 8.1, 6.8, 3.4, 2.1, 1.9, 2.8, 2.9, 1.3, 4.4, 4.2,
                    3.0, 3.0],
                    markers: {
                        size: 2,
                        border:{
                            color: "black"
                        }
                    }
                }],
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #"
                }
            });
            $("#basicSpline").kendoChart({
                seriesDefaults: {
                    type: "line",
                     style: "smooth"
                },
                series: [
                {
                    name: "India",
                    data: [3.907, 7.943, 7.848, 9.284, 9.263, 9.801, 3.890, 8.238, 9.552, 6.855] //incorrect display between 8.238 and 9.552
                }
                ,
                {
                    name: "World",
                    data: [1.988, 2.733, 3.994, 3.464, 4.001, 3.939, 1.333, -2.245, 4.339, 2.727]
                }
                ,
                {
                    name: "Russian Federation",
                    data: [4.743, 7.295, 7.175, 6.376, 8.153, 8.535, 5.247, -7.832, 4.3, 4.3]
                }
                ,
                {
                    name: "Haiti",
                    data: [-0.253, 0.362, -3.519, 1.799, 2.252, 3.343, 0.843, 2.877, -5.416, 5.590],
                    errorBars: {
                        value: "stderr",
                        line: {
                            width: 2,
                            color: "red"
                        }
                    }
                }
                ],
                categoryAxis: {
                    categories: [2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011]
                },
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #"
                }
            });
            $("#stackedSpline").kendoChart({
                title: {
                    text: "Olympic Medals won by USA"
                },
                legend: {
                    visible: false
                },
                seriesDefaults: {
                    type: "line",
                    missingValues: "gap",
                    stack: true,
                     style: "smooth"
                },
                series: [{
                    name: "Gold Medals",
                    data: [40, 32, 34, 36, 45, 33, 34, null, 83, 36, 37, 44, 37, 35, 36, 46],
                    color: "#f3ac32"
                }, {
                    name: "Silver Medals",
                    data: [19, 25, 21, 26, 28, 31, 35, null, 60, 31, 34, 32, 24, 40, 38, 29],
                    color: "#b8b8b8"
                }, {
                    name: "Bronze Medals",
                    data: [17, 17, 16, 28, 34, 30, 25, null, 30, 27, 37, 25, 33, 26, 36, 29],
                    color: "#bb6e36"
                }],
                valueAxis: {
                    max: 180,
                    line: {
                        visible: false
                    },
                    minorGridLines: {
                        visible: true
                    }
                },
                categoryAxis: {
                    categories: [1952, 1956, 1960, 1964, 1968, 1972, 1976, 1980, 1984, 1988, 1992, 1996, 2000, 2004, 2008, 2012],
                    majorGridLines: {
                        visible: false
                    }
                },
                tooltip: {
                    visible: true,
                    template: "#= series.name #: #= value #"
                }
            });

            var grandSlam = [{
                "year": "2003",
                "win": 13,
                "extremum": "MIN: 13",
                "loss": 3
            },{
                "year": "2004",
                "win": 22,
                "loss": 1
            },{
                "year": "2005",
                "win": 24,
                "loss": 2
            },{
                "year": "2006",
                "win": 27,
                "extremum": "MAX: 27",
                "loss": 1
            },{
                "year": "2007",
                "win": 26,
                "loss": 1
            },{
                "year": "2008",
                "win": 24,
                "loss": 3
            },{
                "year": "2009",
                "win": 26,
                "loss": 2
            },{
                "year": "2010",
                "win": 20,
                "loss": 3
            },{
                "year": "2011",
                "win": 20,
                "loss": 4
            },{
                "year": "2012",
                "win": 19,
                "loss": 3
            }];
            $("#notesSpline").kendoChart({
                dataSource: {
                    data: grandSlam
                },
                title: {
                    text: "Roger Federer Grand Slam tournament performance"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "line",
                     style: "smooth"
                },
                series: [{
                    field: "win",
                    name: "Wins",
                    noteTextField: "extremum",
                    notes: {
                        label: {
                            position: "outside"
                        },
                        position: "bottom"
                    }
                },{
                    field: "loss",
                    name: "Losses"
                }],
                valueAxis: {
                    line: {
                        visible: false
                    }
                },
                categoryAxis: {
                    field: "year",
                    majorGridLines: {
                        visible: false
                    }
                },
                tooltip: {
                    visible: true,
                    template: "#= series.name #: #= value #"
                }
            });

            $("#splineGroupedData").kendoChart({
                    title: { text: "Stock Prices" },
                    dataSource: stocksDataSource,
                    theme: "default",
                    series: [{
                        type: "line",
                         style: "smooth",
                        field: "close",
                        name: "#= group.value # (close)",
                        markers: {
                            size: 2
                        }
                    }],
                    legend: {
                        position: "bottom"
                    },
                    valueAxis: {
                        labels: {
                            format: "${0}",
                            skip: 2,
                            step: 2
                        }
                    },
                    categoryAxis: {
                        field: "date",
                        labels: {
                            format: "MMM"
                        }
                    }
                });


           $("#verticalSpline").kendoChart({
                seriesDefaults: {
                    type: "verticalLine",
                     style: "smooth",
                    markers: {
                        visible: true
                    }
                },
                series: [{
                    name: "India",
                    data: [3.907, 7.943, 7.848, 9.284, 9.263, 9.801, 3.890, 8.238, 9.552, 6.855]
                },{
                    name: "World",
                    data: [1.988, 2.733, 3.994, 3.464, 4.001, 3.939, 1.333, -2.245, 4.339, 2.727]
                },{
                    name: "Russian Federation",
                    data: [4.743, 7.295, 7.175, 6.376, 8.153, 8.535, 5.247, -7.832, 4.3, 4.3]
                },{
                    name: "Haiti",
                    data: [-0.253, 0.362, -3.519, 1.799, 2.252, 3.343, 0.843, 2.877, -5.416, 5.590]
                }],
                categoryAxis: {
                    categories: [2002, 2003, 2004, 2005, 2006, 2007]
                },
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #"
                }
            });

            $("#splineArea").kendoChart({
                title: {
                    text: "Gross domestic product growth /GDP annual %/"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "area",
                    area:{
                        line: {
                             style: "smooth"
                        }
                    },
                    markers:{visible: false},
                    opacity: 0.4
                },
                series: [{
                    name: "India",
                    data: [3.907, 7.943, 7.848, 9.284, 9.263, 9.801, 3.890, 8.238, 9.552, 6.855]
                },{
                    name: "World",
                    data: [1.988, 2.733, 3.994, 3.464, 4.001, 3.939, 1.333, -2.245, 4.339, 2.727]
                },{
                    name: "Haiti",
                    data: [-0.253, 0.362, -3.519, 1.799, 2.252, 3.343, 0.843, 2.877, -5.416, 5.590]
                }],
                valueAxis: {
                    labels: {
                        format: "{0}%"
                    },
                    line: {
                        visible: false
                    },
                    axisCrossingValue: -10
                },
                categoryAxis: {
                    categories: [2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011],
                    majorGridLines: {
                        visible: false
                    }
                },
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #"
                }
            });
            $("#verticalSplineArea").kendoChart({
                title: {
                    text: "Gross domestic product growth /GDP annual %/"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "verticalArea",
                    verticalArea: {
                        line:{
                           style: "smooth"
                        }
                    },                    
                    markers:{visible: false},
                    opacity: 0.4
                },
                series: [{
                    name: "India",
                    data: [3.907, 7.943, 7.848, 9.284, 9.263, 9.801, 3.890, 8.238, 9.552, 6.855]
                },{
                    name: "World",
                    data: [1.988, 2.733, 3.994, 3.464, 4.001, 3.939, 1.333, -2.245, 4.339, 2.727]
                },{
                    name: "Haiti",
                    data: [-0.253, 0.362, -3.519, 1.799, 2.252, 3.343, 0.843, 2.877, -5.416, 5.590]
                }],
                valueAxis: {
                    labels: {
                        format: "{0}%"
                    },
                    line: {
                        visible: false
                    },
                    axisCrossingValue: -10
                },
                categoryAxis: {
                    categories: [2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011],
                    majorGridLines: {
                        visible: false
                    }
                },
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #"
                }
            });

             $("#stackedArea").kendoChart({
                title: {
                    text: "Browser Usage Trends"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "area",
                    stack: true,
                    opacity: 0.4,
                    markers: {
                        visible: false,
                        size: 6
                    },
                    area: {
                        line: {
                             style: "smooth",
                            opacity: 1,
                            width: 0
                        }
                    }
                },
                series: [{
                    name: "Chrome",
                    data: [0, 0, 0, 0, 3.6, 9.8, 22.4, 34.6]
                },{
                    name: "Firefox",
                    data: [0, 23.6, 29.9, 36.3, 44.4, 46.4, 43.5, 37.7]
                },{
                    name: "Internet Explorer",
                    data: [76.2, 68.9, 60.6, 56.0, 46.0, 37.2, 27.5, 20.2]
                },{
                    name: "Mozilla",
                    data: [16.5, 2.8, 2.5, 1.2, 0, 0, 0, 0]
                },{
                    name: "Opera",
                    data: [1.6, 1.5, 1.5, 1.6, 2.4, 2.3, 2.2, 2.5]
                },{
                    name: "Safari",
                    data: [0, 0, 0, 1.8, 2.7, 3.6, 3.8, 4.2]
                }],
                valueAxis: {
                    labels: {
                        format: "{0}%"
                    },
                    line: {
                        visible: false
                    },
                    axisCrossingValue: -10,
                    max: 100
                },
                categoryAxis: {
                    categories: [2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011],
                    majorGridLines: {
                        visible: false
                    }
                },
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #%"
                }
            });

            $("#verticalStackedArea").kendoChart({
                title: {
                    text: "Browser Usage Trends"
                },
                legend: {
                    position: "bottom"
                },
                seriesDefaults: {
                    type: "verticalArea",
                    stack: true,
                    opacity: 0.4,
                    markers: {
                        visible: false,
                        size: 6
                    },
                    verticalArea: {                         
                        line: {
                            opacity: 1,
                            width: 0,
                             style: "smooth"
                        }
                    }
                },
                series: [{
                    name: "Chrome",
                    data: [0, 0, 0, 0, 3.6, 9.8, 22.4, 34.6]
                },{
                    name: "Firefox",
                    data: [0, 23.6, 29.9, 36.3, 44.4, 46.4, 43.5, 37.7]
                },{
                    name: "Internet Explorer",
                    data: [76.2, 68.9, 60.6, 56.0, 46.0, 37.2, 27.5, 20.2]
                },{
                    name: "Mozilla",
                    data: [16.5, 2.8, 2.5, 1.2, 0, 0, 0, 0]
                },{
                    name: "Opera",
                    data: [1.6, 1.5, 1.5, 1.6, 2.4, 2.3, 2.2, 2.5]
                },{
                    name: "Safari",
                    data: [0, 0, 0, 1.8, 2.7, 3.6, 3.8, 4.2]
                }],
                valueAxis: {
                    labels: {
                        format: "{0}%"
                    },
                    line: {
                        visible: false
                    },
                    axisCrossingValue: -10,
                    max: 100
                },
                categoryAxis: {
                    categories: [2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011],
                    majorGridLines: {
                        visible: false
                    }
                },
                tooltip: {
                    visible: true,
                    format: "{0}%",
                    template: "#= series.name #: #= value #%"
                }
            });
//test lagrange plynomial performance
            var dataviz = kendo.dataviz,
                Point = dataviz.Point2D,
                math = Math,
                view = dataviz.ViewFactory.current.create({}, "svg"),
                         xData = [ 1.2, 10, 9, 11, 10, 12],
                         data =  [  2, 3, 1, 2, 0, 2],
                         // xData = [ 1.2, 10, 9, 11, 10, 12],
                         // data =  [  2, 3, 1, 2, 0, 2],
                         // xData = [ 1.2, 10, 1, 11, 10, 12],
                         // data =  [  2, 3, 1, 2, 0, 2],
                    // xData = [1116.658, 1106.862, 695.114, 129.79, 1170.062],
                    // data =  [  59.9,     96.5,     133.1,   169.7,  206.3],
                    // xData = [ 87.95, 213.85,339.75],
                     // data =  [ 205.93,191.516,282.477],
                       // xData = [ 1, 9.8, 10],
                        // data =  [ 1, 2, 3],
                    // xData = [ 1, 6, 9, 11,9,7, 9,11, 13, 14],
                     // data =  [ 4, 5, 6, 5, 4, 3,1, 0, 5, 0],
                   // xData =  [1,2,3,4,5,6,7,8],
                    // data = [0, 5, 16, 33, 56, 85, 120, 161],
                     // xData = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49],
                     // data =  [4.3, 5.1, 4.3, 5.2, 5.4, 4.7, 3.5, 4.1, 5.6, 7.4, 6.9, 7.1,7.9, 7.9, 7.5, 6.7, 7.7, 7.7, 7.4, 7.0, 7.1, 5.8, 5.9, 7.4,8.2, 8.5, 9.4, 8.1, 10.9, 10.4, 10.9, 12.4, 12.1, 9.5, 7.5,7.1, 7.5, 8.1, 6.8, 3.4, 2.1, 1.9, 2.8, 2.9, 1.3, 4.4, 4.2,3.0, 3.0],
                    initialPoints = [],
                    points = [],
                    height = 500,
                    min = math.min.apply(null, data),
                    max = math.ceil(math.max.apply(null, data)),
                    maxX = math.ceil(math.max.apply(null, xData)),
                    rangeMin = 0,
                    rangeMax = max,
                    baseUnit = height / max,
                    width = 1169,
                    baseUnitX = (width -100) / maxX,
                    getY = function (value){
                        return 50 + (max - value) * baseUnit;
                    },
                    getX = function (value){
                        return value * baseUnitX;
                    },
                    addPoint = function(){
                        for(var i =0; i < arguments.length;i++){
                            points.push(normalizePoint(arguments[i]));
                        }
                    },
                    normalizePoint = function(point){
                        return new Point(getX(point.x), getY(point.y));
                        //return point.clone();
                    },
                    fn,
                    p1,
                    p,
                    dataPoints,
                    fnPoints,
                    controlPoins,
                    areaPoints,
                    pStr = "",
                    allowedError = 0.01;

                for(var i =0; i <data.length;i++){
                    p = new Point(xData[i],data[i]);
                    initialPoints.push(p);
                    view.children.push(view.createCircle(normalizePoint(p),1, {stroke: "black", strokeWidth: 2, zIndex: 1, fill: "black"}));
                    view.children.push(view.createText("X:" + xData[i] + " Y: " + data[i],normalizePoint(p), {stroke: "black", strokeWidth: 2, zIndex: 1, fill: "black"}));
                    pStr+= "{X:" + xData[i] + ", " + "Y:" + data[i] + "}";
                    //x++;
                }
                // $("#points").text(pStr);

                // var start = new Date().getTime();
               var processor = new CurveProcessor(addPoint, allowedError);
               processor.processTest(initialPoints);
             //  alert("milliseconds: " + (new Date().getTime() - start));
              //  LeastSquare.process(initialPoints, addPoint);

               //areaPoints = [new Point(points[points.length - 1].x, height), new Point(points[0].x, height)];

               // view.children.push(view.createCubicCurve(points, {stroke: "#2f7ed8", strokeWidth: 6,align: true, strokeLineCap: "round"}));
               // view.options.width = width + 100;
               // view.options.height = height + 100;

               // view.renderTo(document.getElementById("testSpline"));

        </script>
    </body>
</html>