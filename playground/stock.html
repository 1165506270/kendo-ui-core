<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" >
        <title>Bar Chart</title>
        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.data.js"></script>
        <script src="../src/kendo.userevents.js"></script>
        <script src="../src/kendo.dataviz.core.js"></script>
        <script src="../src/kendo.dataviz.chart.js"></script>
        <script src="../src/kendo.dataviz.stock.js"></script>
        <script src="../src/kendo.dataviz.themes.js"></script>
        <script src="../src/kendo.dataviz.vml.js"></script>
        <script src="../src/kendo.dataviz.svg.js"></script>
        <link href="../styles/dataviz/kendo.dataviz.css" rel="stylesheet" />
        <style>
            body {
                font-family: Arial, Helvetica, sans-serif;
            }
        </style>
    </head>
    <body class="k-default">
        <h3>The Boeing Company (NYSE:BA)</h3>
        <div id="chart" style="width: 900px; height: 500px; border: 1px solid red; background: blue;"></div>
        <input type="button" onclick="toggleSeries()" />
        <script>
            function toggleSeries() {
                var chart = $("#chart").data("kendoStockChart"),
                    series = chart.options.series;

                series[0].visible = !series[0].visible;

                chart.refresh();
            }

            $(function() {
                $("#chart").kendoStockChart({
                    dataSource: {
                        transport: {
                            read: "boeing-stock.json"
                        },
                        schema:{
                            model: {
                                fields: {
                                    Date: {
                                        type: "date"
                                    }
                                }
                            }
                        }
                    },
                    tooltip: {
                        visible: true,
                        template: "Open: #= dataItem.dataItems[0].Open #"
                    },
                    dateField: "Date",
                    valueAxes: [{
                        // Default axis
                        name: "price"
                    }],
                    series: [{
                        type: "candlestick",
                        openField: "Open",
                        highField: "High",
                        lowField: "Low",
                        closeField: "Close",
                        // TODO: Shouldn't be necessary
                        axis: "price",
                        aggregate: function(data, series, dataItems) {
                            return { Open: 1, High: 4, Low: 0, Close: 2, dataItems: dataItems };
                        }
                    }],
                    navigator: {
                        dataSource: {
                            transport: {
                                read: "boeing-stock.json"
                            },
                            schema:{
                                model: {
                                    fields: {
                                        Date: {
                                            type: "date"
                                        }
                                    }
                                }
                            }
                        },
                        series: {
                            type: "area",
                            field: "Close"
                        },
                        select: {
                            from: "2009/10/05"
                        }
                    }
                });
            });
        </script>
    </body>
</html>

