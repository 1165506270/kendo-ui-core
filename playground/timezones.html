<!doctype html>
<html>
    <head>
        <script src="../src/jquery.min.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.timezones.js"></script>
        <script src="../build/timezone-js/src/date.js"></script>
    </head>
    <body>
        <script>
            var tz = timezoneJS.timezone;
            tz.loadingScheme = tz.loadingSchemes.MANUAL_LOAD;
            tz.loadZoneJSONData('timezones.json', true);

            var start = Date.now() , yearToMillis = 5 * 365 * 24 * 3600 * 1000 , dates = [];

            for (var i = 0; i < 5000; i++) {
                dates.push(start - Math.random() * yearToMillis);
            }

            /*
            for (var i = 0; i < 5000; i++) {
                date = new timezoneJS.Date(dates[i], 'America/New_York');
                date.setTimezone('Europe/Minsk');

            }

            console.log('Took ' + (Date.now() - start) + 'ms to convert 5000 dates');

            start = Date.now();
            */

            console.profile("Timezone conversion");

            for (i = 0; i < 5000; i++) {
                kendo.timezone.convert(new Date(dates[i]), 'America/New_York', 'Europe/Minsk');
            }

            console.profileEnd();

        </script>
    </body>
</html>
