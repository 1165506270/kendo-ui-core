<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.fx.js"></script>
        <link href="fx.less" rel="stylesheet/less" />
        <script src="../../demos/mvc/content/shared/js/less.js"></script>
        <title>Transition</title>
        <style>
            body {
                width: 500px;
                margin: 20px auto;
            }

            #container {
                width: 200px;
                height: 200px;
            }

            #a, #b {
                display: flex;
                flex-direction: column;
            }

            .content {
                flex-grow: 1;
            }

            #a {
                width: 200px;
                height: 200px;
                position: absolute;
            }

            #a .header, #a .footer, #a .content {
                background: orange;
            }

            #b {
                width: 200px;
                height: 200px;
                position: absolute;
            }

            #b .header, #b .footer, #b .content {
                background: yellow;
            }
        </style>
    </head>
    <body>

        <div id="container">
            <div id="a">
                <div class="header">Header</div>
                <div class="content">Content</div>
                <div class="footer">Footer</div>
            </div>

            <div id="b">
                <div class="header">Header</div>
                <div class="content">Content</div>
                <div class="footer">Footer</div>
            </div>
        </div>

        <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br />

        <hr />
        <dl>
            <dt>Animation type:</dt>
            <dd>
            <select id="animation-type">
                <option>zoom</option>
                <option>fade</option>
                <option>slide</option>
                <option>overlay</option>
            </select>
            </dd>

            <dt>Direction</dt>
            <dd>
            <select id="animation-direction">
                <option>up</option>
                <option>down</option>
                <option>left</option>
                <option>right</option>
            </select>
            </dd>
            <dt>Reverse</dt>

            <dd>
                <input type="checkbox" id="reverse" />
            </dd>
        </dl>
        <button id="apply">Apply</button>

        <script>

            function classAnimate(options) {
                var current = options.current,
                    next = options.next,
                    container = options.container,
                    reverse = options.reverse;

                current.css('display', '');
                next.css('display', '');

                var containerClass = "k-fx-start k-fx-" + options.type;

                if (options.direction) {
                    containerClass += " k-fx-" + options.direction;
                }

                if (reverse) {
                    containerClass += " k-fx-reverse";
                }

                container.addClass(containerClass);
                current.addClass("k-fx-current");
                next.addClass("k-fx-next");

                container.one('webkitTransitionEnd', function(e) {
                    container.removeClass("k-fx-end").removeClass(containerClass);
                    current.removeClass("k-fx-current");
                    next.removeClass("k-fx-next");
                    (reverse ? next : current).hide();
                });

                container.css("left"); // hack to refresh webkit

                container.removeClass("k-fx-start").addClass("k-fx-end");
            }

            $("#apply").click(function() {
                classAnimate({
                    container: $("#container"),
                    current: $("#a"),
                    next: $("#b"),
                    type: $("#animation-type").val(),
                    direction: $("#animation-direction").val(),
                    reverse: $("#reverse")[0].checked
                });
            });
        </script>
    </body>
</html>
