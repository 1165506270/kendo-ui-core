@flat-main-color: #4c5356;
@flat-background: #f4f4f4;
@flat-list-background: #fcfcfc;
@flat-button-background: #e6e6e6;
@flat-border-width: 1px;
@flat-border-color: rgba(0,0,0,.1);
@flat-border-radius: 3px;
@flat-inline-border-radius: @flat-border-radius - 1px;
@flat-active-color: #fff;
@flat-active-background: #10c4b2;
@flat-light-shadow: rgba(255,255,255,.2);

.km-flat
{
    font: normal 1em "HelveticaNeue Light", "Roboto Light", "Slate Light", "Segoe WP", NokiaPureTextLight, sans-serif;
}

/* override transform options for performance */
.km-root .km-flat.km-pane,
.km-root .km-flat .km-view,
.km-root .km-flat .km-slider,
.km-root .km-flat .km-switch,
.km-root .km-flat .km-group-title,
.km-root .km-flat .km-list > li,
.km-root .km-flat .km-filter-reset,
.km-root .km-flat .km-scroll-container,
.km-root .km-flat .km-shim .k-animation-container
{
    -webkit-transform: none;
}

.km-flat,
.km-flat .km-navbar,
.km-flat .km-content
{
    color: @flat-main-color;
    background: @flat-background;
}

.km-flat,
.km-flat *
{
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background-clip: border-box;
}

/* NavBar */

.km-flat .km-navbar
{
    border: @flat-border-width solid @flat-border-color;
}

.km-flat .km-header .km-navbar
{
    border-width: 0 0 @flat-border-width;
}

.km-flat .km-footer .km-navbar
{
    border-width: @flat-border-width 0 0;
}

.km-flat .km-toolbar,
.km-flat .km-navbar,
.km-flat .km-tabstrip,
.km-flat .km-tabstrip .km-button
{
    .border-radius(0);
}

/* Button */

.km-flat .km-button
{
    padding: .5em .8em;
    background: @flat-button-background;
    border: 1px solid @flat-border-color;
    .border-radius(@flat-border-radius);
}

.km-flat .km-tabstrip .km-button
{
    color: @flat-active-color;
    background: none;
}

.km-flat .km-state-active,
.km-flat .km-tabstrip .km-state-active
{
    color: @flat-active-color;
    background: @flat-active-background;
}

.km-flat .km-state-active[style*=background]
{
    .box-shadow(inset 0 0 0 1000px rgba(0,0,0,.2));
}

/* ButtonGroup */

.km-flat .km-buttongroup > *:not(:first-child):not(:last-child)
{
    .border-radius(0);
}

.km-flat .km-buttongroup > *:first-child
{
    .border-radius(@flat-border-radius 0 0 @flat-border-radius);
}

.km-flat .km-buttongroup > *:last-child
{
    .border-radius(0 @flat-border-radius @flat-border-radius 0);
}

.km-flat .km-buttongroup > *.km-state-active
{
    border-right-width: 1px;
}

.km-flat .km-buttongroup > *.km-state-active + *
{
    border-left-width: 0;
}

/* ListView */

.km-flat .km-list > li
{
    background: @flat-list-background;
    border: @flat-border-width solid @flat-border-color;
    border-width: 0 0 @flat-border-width 0;
    .box-shadow(inset 0 @flat-border-width 0 @flat-light-shadow);
}

.km-flat .km-listinset > li:first-child,
.km-flat .km-listgroupinset .km-list > li:first-child
{
    border: @flat-border-width solid @flat-border-color;
    border-width: @flat-border-width;
    border-color: @flat-border-color;
    .border-radius(@flat-border-radius @flat-border-radius 0 0);
}

.km-flat .km-listinset > li,
.km-flat .km-listgroupinset .km-list > li
{
    border-width: 0 @flat-border-width @flat-border-width @flat-border-width;
}

.km-flat .km-listinset > li:last-child,
.km-flat .km-listgroupinset .km-list > li:last-child
{
    border: @flat-border-width solid @flat-border-color;
    border-width: 0 @flat-border-width @flat-border-width @flat-border-width;
    .border-radius(0 0 @flat-border-radius @flat-border-radius);
}

.km-flat .km-listinset > li:first-child:last-child,
.km-flat .km-listgroupinset .km-list > li:first-child:last-child
{
    border-width: @flat-border-width;
    .border-radius(@flat-border-radius);
}

.km-flat li.km-state-active .km-listview-link,
.km-flat li.km-state-active .km-listview-label
{
    color: @flat-active-color;
    background: @flat-active-background;
}

.km-flat .km-listview-link:after
{
    color: lighten(@flat-main-color, 30);
    width: .66rem;
    height: .64rem;
    border-width: 0;
    box-shadow: inset -.2rem .2rem 0;
}

.km-flat .km-state-active .km-listview-link:after
{
    color: @flat-active-color;
}

.km-flat .km-listinset li:first-child > .km-listview-link,
.km-flat .km-listgroupinset li:first-child > .km-listview-link,
.km-flat .km-listinset li:first-child > .km-listview-label,
.km-flat .km-listgroupinset li:first-child > .km-listview-label
{
    .border-radius(@flat-inline-border-radius @flat-inline-border-radius 0 0);
}

.km-flat .km-listinset li:last-child > .km-listview-link,
.km-flat .km-listgroupinset li:last-child > .km-listview-link,
.km-flat .km-listinset li:last-child > .km-listview-label,
.km-flat .km-listgroupinset li:last-child > .km-listview-label
{
    .border-radius(0 0 @flat-inline-border-radius @flat-inline-border-radius);
}

.km-flat .km-listinset li:first-child:last-child > .km-listview-link,
.km-flat .km-listgroupinset li:first-child:last-child > .km-listview-link,
.km-flat .km-listinset li:first-child:last-child > .km-listview-label,
.km-flat .km-listgroupinset li:first-child:last-child > .km-listview-label
{
    .border-radius(@flat-inline-border-radius);
}

.km-flat .km-group-title
{
    background: @flat-background;
    border: @flat-border-width solid @flat-border-color;
    border-width: @flat-border-width 0;
}

.km-flat .km-scroll-header .km-group-title
{
    border-width: 0 0 @flat-border-width;
}

.km-flat .km-listgroupinset .km-group-title
{
    border: 0;
    background: none;
}

/* TabStrip */

.km-flat .km-tabstrip
{
    padding: 0;
    display: table;
    table-layout: fixed;
}

.km-flat .km-tabstrip .km-button
{
    font-size: .7em;
    display: table-cell;
    border: 0;
}

.km-flat .km-tabstrip .km-icon:before
{
    display: none;
}

/* Scroller */

.km-flat .km-touch-scrollbar
{
    background-color: @flat-active-background;
    border: 0;
    .box-sizing(border-box);
    .border-radius(1em);
}

/* Shim and ActionSheet */

.km-flat .km-shim,
.km-phone .km-flat .km-actionsheet-wrapper
{
    background: rgba(0,0,0,.4);
}

/* Loader */

.km-flat .km-loader
{
    background: @flat-active-background;
    margin-top: -2em;
    margin-left: -2em;
    width: 4em;
    height: 4em;
    .border-radius(20em);
    overflow: visible;
}

.km-flat .km-loader h1
{
    display: none;
    font-size: 1em;
    color: @flat-main-color;
    position: absolute;
    left: -50%;
    width: 200%;
    top: auto;
    bottom: -2em;
}

.km-flat .km-loading,
.km-flat .km-loading-left,
.km-flat .km-loading-right,
.km-flat .km-scroller-refresh .km-icon,
.km-flat .km-scroller-refresh .km-icon:after,
.km-flat .km-scroller-refresh .km-icon:before
{
    font-size: 1em;
    content: "\a0";
    display: block;
    width: .36em;
    height: 1em;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-left: -.8em;
    margin-top: -.5em;
    background: @flat-active-color;
    .border-radius(1em);
    .animation(km-flatload .6s infinite linear);
}

.km-flat .km-loading-left
{
    margin-left: -.2em;
}

.km-flat .km-loading-right
{
    margin-left: .42em;
}

.km-flat .km-loading-left,
.km-flat .km-scroller-refresh .km-icon:after
{
    .animation-delay(.2s);
}

.km-flat .km-loading-right,
.km-flat .km-scroller-refresh .km-icon:before
{
    .animation-delay(.4s);
}

@keyframes km-flatload
{
    0% { height: 1em; margin-top: -.5em; }
    33% { height: 2em; margin-top: -1em; }
    66% { height: 1em; margin-top: -.5em; }
}

@-moz-keyframes km-flatload
{
    0% { height: 1em; margin-top: -.5em; }
    33% { height: 2em; margin-top: -1em; }
    66% { height: 1em; margin-top: -.5em; }
}

@-webkit-keyframes km-flatload
{
    0% { height: 1em; margin-top: -.5em; }
    33% { height: 2em; margin-top: -1em; }
    66% { height: 1em; margin-top: -.5em; }
}

