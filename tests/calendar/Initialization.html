<!DOCTYPE html>
<html>
    <head>
        <title>Calendar rendering</title>
        <script src="../../src/jquery.js"></script>
        <script type="text/javascript" src="../qunit/qunit/qunit.js"></script>
        <script type="text/javascript" src="../qunit-runner.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.calendar.js"></script>
        <link rel="stylesheet" href="../qunit/qunit/qunit.css" type="text/css" />
    </head>
    <body>
        <h1 id="qunit-header">Calendar rendering</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <script>

            var Calendar = kendo.ui.Calendar;

            module("kendo.ui.Calendar initialization", {
                setup: function() {
                    div = $("<div />").appendTo(document.body);
                },
                teardown: function() {
                    div.remove();
                }
            });

            test("define current", function() {
                var cal = new Calendar(div),
                    today = new Date(),
                    current = cal._viewedDate;

                equal(current.getFullYear(), today.getFullYear());
                equal(current.getMonth(), today.getMonth());
                equal(current.getDate(), today.getDate());
            });

            test("render header", function() {
                var cal = new Calendar(div);
                ok(cal.element.find(".k-header"));
                ok(cal.prevArrow);
                ok(cal.nextArrow);
                ok(cal.title);
            });

            test("render table after header", function() {
                var cal = new Calendar(div);
                ok(cal.element.find(".k-content")[0]);
            });

            test("render month view when init", function() {
                var date = new Date(2011, 10, 10), cal = new Calendar(div, {value: date});

                equal(cal.title.html(), "November 2011");
                equal(cal.element.find(".k-content").find("a").length, 42);
            });

            test("render year view when init", function() {
                var date = new Date(2011, 10, 10), cal = new Calendar(div, { value: date, firstView: "year" }),
                anchors = cal.element.find(".k-content").find("a"),
                january = kendo.culture().calendar.months.namesAbbr[0];

                equal(cal.title.html(), "2011");
                equal(anchors.length, 12);
                equal(anchors.eq(0).html(), january);
            });

            test("render decade view when init", function() {
                var date = new Date(2011, 10, 10),
                cal = new Calendar(div, { firstView: "decade", value: date }),
                anchors = cal.element.find(".k-content").find("a");

                equal(cal.title.html(), "2010-2019");
                equal(anchors.length, 12);
                equal(anchors.eq(0).html(), "2009");
            });

            test("render century view when init", function() {
                var date = new Date(2011, 10, 10),
                cal = new Calendar(div, { firstView: "century", value: date, max: new Date(2200, 10, 10) }),
                anchors = cal.element.find(".k-content").find("a");

                equal(cal.title.html(), "2000-2099");
                equal(anchors.length, 12);
                equal(anchors.eq(0).html(), "1990-1999");
            });

        </script>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>
    </body>
</html>
