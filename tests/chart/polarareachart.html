<!DOCTYPE html>
<html>
    <head>
        <title>kendo.chart</title>
        <script src="../jquery-loader.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../qunit/addons/close-enough/qunit-close-enough.js"></script>
        <script src="../kendo-test-helpers.js"></script>
        <link href="../qunit/qunit/qunit.css" type="text/css" rel="stylesheet"/>
    </head>
    <body>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.data.js"></script>
        <script src="../../src/kendo.dataviz.core.js"></script>
        <script src="../../src/kendo.dataviz.chart.js"></script>
        <script src="../../src/kendo.dataviz.chart.polar.js"></script>
        <script src="../../src/kendo.dataviz.themes.js"></script>
        <script src="../../src/kendo.dataviz.svg.js"></script>
        <script src="../../src/kendo.dataviz.vml.js"></script>
        <script src="util.js"></script>
        <script type="text/javascript">
            var dataviz = kendo.dataviz,
                getElement = dataviz.getElement,
                Point2D = dataviz.Point2D,
                Box2D = dataviz.Box2D,
                Ring = dataviz.Ring,
                TOLERANCE = 1,
                chartBox = new Box2D(0, 0, 800, 600),
                view,
                plotArea,
                chart,
                pointsXY;


            function createChart(series, options) {
                view = new ViewStub();
                plotArea = new dataviz.PolarPlotArea(series,
                    kendo.deepExtend({
                        xAxis: {
                            majorGridLines: { visible: false },
                            visible: false
                        },
                        yAxis: {
                            majorGridLines: { visible: false },
                            visible: false
                        }
                    }, options)
                );

                chart = plotArea.charts[0];

                plotArea.reflow(chartBox);
                plotArea.getViewElements(view);
                pointsXY = mapPoints(view.log.path[0].points);
            }

            // ------------------------------------------------------------
            module("Radar Line Chart / Positive values", {
                setup: function() {
                    createChart([{
                        type: "polarArea",
                        data: [[45, 1], [60, 2], [75, 1]]
                    }]);
                }
            });

            test("rendered on polar axis", function() {
                arrayClose(pointsXY, [
                    [400, 300], [494, 206], [533, 71], [434, 172], [400, 300]
                ], TOLERANCE);
            });

            test("points are ordered by angular position", function() {
                createChart([{
                    type: "polarArea",
                    data: [[60, 2], [45, 1], [75, 1]]
                }]);

                arrayClose(pointsXY, [
                    [400, 300], [494, 206], [533, 71], [434, 172], [400, 300]
                ], TOLERANCE);
            });

        </script>

        <h1 id="qunit-header">kendo.chart</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>

        <div id="container">
        </div>
    </body>
</html>
