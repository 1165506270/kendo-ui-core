<!DOCTYPE html>
<html>
    <head>
        <title>Cultures</title>
        <script src="../../src/jquery.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <link rel="stylesheet" href="../qunit/qunit/qunit.css" />
    </head>
    <body>
        <h1 id="qunit-header">Cultures</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>

        <script type="text/javascript">
            QUnit.config.reorder = false

            var culture = kendo.culture;

            test("default culture should be en-US", function() {
                ok(kendo.cultures.current);
                equal(kendo.cultures.current.name, "en-US");
            });

            test("culture should set cultures.current", function() {
                culture("en-US");
                ok(kendo.cultures.current);
                equal(kendo.cultures.current.name, "en-US");
            });

            test("additional cultures can be added to kendo.cultures", function() {
                kendo.cultures["de-DE"] = { name: "de-DE", calendars: {standard: {}}};
                culture("de-DE");
                ok(kendo.cultures.current);
                equal(kendo.cultures.current.name, "de-DE");
            });

            test("if no culture set en-US", function() {
                var cultureName = "no-such-culture";
                culture(cultureName);
                ok(kendo.cultures.current);
                equal(kendo.cultures.current.name, "en-US");
            });

            test("culture() should return cultures.current", function() {
                equal(culture(), kendo.cultures.current);
            });

            test("culture method fallbacks to more general culture indentifier", function() {
                kendo.cultures["fr"] = { name: "fr", calendars: {standard: {}}};
                culture("fr-FR");

                equal(kendo.cultures.current.name, "fr");
            });

            test("findCulture method returns culture", function() {
                kendo.cultures["de-DE"] = { name: "de-DE", calendars: {standard: {}}};

                var result = kendo.findCulture("de-DE");

                equal(result.name, "de-DE");
            });

            test("findCulture method returns closest culture", function() {
                kendo.cultures["fr"] = { name: "fr", calendars: {standard: {}}};

                var result = kendo.findCulture("fr-FR");

                equal(result.name, "fr");
            });

            test("findCulture method returns null", function() {
                var result = kendo.findCulture("no-such-culture");

                equal(result, null);
            });

            test("findCulture method returns argument if it is a culture object", function() {
                var culture = { numberFormat: {}};
                var result = kendo.findCulture(culture);

                equal(result, culture);
            });
        </script>
    </body>
</html>
