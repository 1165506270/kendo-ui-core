<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>kendo.ui.Editor Tests</title>

        <script src="../../src/jquery.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../qunit-runner.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.fx.js"></script>
        <script src="../../src/kendo.data.js"></script>
        <script src="../../src/kendo.popup.js"></script>
        <script src="../../src/kendo.list.js"></script>
        <script src="../../src/kendo.combobox.js"></script>
        <script src="../../src/kendo.dropdownlist.js"></script>
        <script src="../../src/kendo.window.js"></script>
        <script src="../../src/kendo.colorpicker.js"></script>
        <script src="../../src/kendo.editor.js"></script>
        <script src="../../src/kendo.imagebrowser.js"></script>
        <script src="util.js"></script>

        <link rel="stylesheet" href="../qunit/qunit/qunit.css" />
        <link rel="stylesheet" href="../../styles/web/kendo.common.css" />

        <style> html { font-size: 12px; } </style>
    </head>
    <body>

        <script>

            var reader;

            module("Editor/DefaultReader", {
                setup: function () {
                    reader = new kendo.fileInfoReader({});
                },
                teardown: function () {
                }
            });

            test("reader concatPaths baseUrl and file name", function() {
                var baseUrl = "/foo";
                var file = "bar.png";
                var result = reader.concatPaths(baseUrl, file);

                equal(result, "/foo/bar.png");
            });

            test("reader concatPaths does not add additional slash after base url", function() {
                var baseUrl = "/foo/";
                var file = "bar.png";
                var result = reader.concatPaths(baseUrl, file);

                equal(result, "/foo/bar.png");
            });

            test("reader concatPaths does add slash if base url is empty", function() {
                var baseUrl;
                var file = "bar.png";
                var result = reader.concatPaths(baseUrl, file);

                equal(result, "/bar.png");
            });

            test("size calculates megabytes", function() {
                equal(reader.size({Size: 7326629}), "6.99 MB");
            });

            test("size calculates bytes", function() {
                equal(reader.size({Size: 42}), "42 bytes");
            });

            test("size calculates gigabytes", function() {
                equal(reader.size({Size: 1073741824}), "1 GB");
            });

            test("read is case insensitive", function() {
                equal(reader.read("foo", { foo: "bar" }), "bar");
                equal(reader.read("foo", { Foo: "bar" }), "bar");
            });

        </script>

        <h1 id="qunit-header">kendo.ui.Editor Tests</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>

    </body>
</html>
