<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>kendo.ui.Editor Tests</title>

        <script src="../jquery-loader.js"></script>
        <script src="test-scripts.js"></script>

        <style> html { font-size: 12px; } </style>
    </head>
    <body>

        <div><textarea cols="20" rows="4" id="Editor1" name="Editor1"></textarea></div>

        <script>

            $("#Editor1").kendoEditor();

            var TableFormatter = kendo.ui.editor.TableFormatter;

            module("Editor / TableFormatter", {
                setup: function() {
                    editor = getEditor();
                },
                teardown: function() {
                    $(".k-window,.k-overlay").remove();
                }
            });

            var range, formatter;

            test("apply on text node wraps it in table cell", function() {
                range = createRangeFromText(editor, '|foo|');

                formatter = new TableFormatter();

                formatter.toggle(range);

                equal(editor.value(), "<table><tbody><tr><td>foo</td></tr></tbody></table>");
            });

            test("apply honors column count", function() {
                range = createRangeFromText(editor, '|foo|');

                formatter = new TableFormatter({ columns: 2 });

                formatter.toggle(range);

                equal(editor.value(), "<table><tbody><tr><td>foo</td><td></td></tr></tbody></table>");
            });

            test("apply honors row count", function() {
                range = createRangeFromText(editor, '|foo|');

                formatter = new TableFormatter({ rows: 2 });

                formatter.toggle(range);

                equal(editor.value(), "<table><tbody><tr><td>foo</td></tr><tr><td></td></tr></tbody></table>");
            });

        </script>

        <h1 id="qunit-header">kendo.ui.Editor Tests</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>

    </body>
</html>
