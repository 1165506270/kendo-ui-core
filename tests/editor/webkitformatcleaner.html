<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>kendo.ui.Editor Tests</title>
    <script src="test-scripts.js"></script>
    <style> html { font-size: 12px; } </style>
</head>
<body>

    <div><textarea cols="20" rows="4" id="Editor1" name="Editor1"></textarea></div>

    <script>

        $("#Editor1").kendoEditor();

        var cleaner;

        function clean(html) {
            var value = cleaner.clean(html);
            return value.replace(/(<\/?[^>]*>)/g, function (_, tag) {
                return tag.toLowerCase();
            }).replace(/[\r\n]+/g, "");
        }

        module("Editor / WebkitFormatCleaner", {
            setup: function() {
                cleaner = new kendo.ui.editor.WebkitFormatCleaner();
            }
        });

        test("removes apple-style-span class", function() {
            equal(clean('<span class="Apple-style-span">foo</span>'), '<span>foo</span>');
        });

        test("removes all styles of paragraphs", function() {
            equal(clean('<p style="margin: 0; padding: 0;">foo</p>'), '<p>foo</p>');
        });

        test("removes outermost div (occuring when pasting in safari 5.x)", function() {
            equal(clean("<div><p>foo</p></div>"), "<p>foo</p>");
        });

    </script>

    <h1 id="qunit-header">kendo.ui.Editor Tests</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
    <ul id="log"></ul>

</body>
</html>

