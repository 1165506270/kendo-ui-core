<!DOCTYPE html>
<html>
    <head>
        <title>kendo.ui.panelbar Tests</title>
        <script src="../../src/jquery.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../qunit-runner.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.fx.js"></script>
        <script src="../../src/kendo.panelbar.js"></script>
        <script type="text/javascript" src="../jquery.mockjax.js"></script>
        <link rel="stylesheet" href="../qunit/qunit/qunit.css" />
        <link type="text/css" href="../../styles/web/kendo.common.css" rel="stylesheet"/>

   <script type="text/javascript">

       var isRaised, isExpandRaised, isCollapseRaised, isSelectRaised;

        function getRootItem(index) {
			return $('#PanelBar1').find('.k-header').parent().eq(index)
        }

        function getPanelBar() {
            return $("#PanelBar1").data("kendoPanelBar");
        }

        //handlers
        function Expand(sender, args) {
            isExpandRaised = true;
        }

        function Collapse(sender, args) {
            isCollapseRaised = true;
        }

        function Select(sender, args) {
            isSelectRaised = true;
        }

        var onLoadPanelBar;
        function Load(e) {
            isRaised = true;
            onLoadPanelBar = $("#PanelBar1").data("kendoPanelBar");
        }
   </script>

</head>
<body onload="Load()">

<ul class="k-widget k-panelbar k-reset" id="PanelBar1" style="width: 300px; float: left; margin-bottom: 30px; visibility: hidden; position: absolute;">
    <li class="k-item k-state-default"><span class="k-link k-header"><img alt="Mail Icon" class="k-image"
                                                                          src="../../playground/Icons/mail.gif">Mail<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul style="display: none;" class="k-group">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Personal Folders Icon" class="k-image"
                                                                         src="../../playground/Icons/mailPersonalFolders.gif">Personal Folders</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Deleted Items Icon" class="k-image"
                                                                         src="../../playground/Icons/mailDeletedItems.gif">Deleted Items</span>
            </li>
            <li class="k-item k-state-disabled"><span class="k-link"><img alt="Inbox Icon" class="k-image"
                                                                          src="../../playground/Icons/mailInbox.gif">Inbox</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="My Mail Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Mail</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Sent Items Icon" class="k-image"
                                                                         src="../../playground/Icons/mailSent.gif">Sent Items</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Outbox Icon" class="k-image"
                                                                         src="../../playground/Icons/mailOutbox.gif">Outbox</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Search Folders Icon" class="k-image"
                                                                         src="../../playground/Icons/mailSearch.gif">Search Folders</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-disabled"><span class="k-link k-header"><img alt="Contacts Icon" class="k-image"
                                                                           src="../../playground/Icons/contacts.gif">Contacts<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul class="k-group" style="display: none;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">My Contacts</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">Address Cards</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">Phone List</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">Shared Contacts</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-default"><span class="k-link k-header"><img alt="Tasks Icon" class="k-image"
                                                                          src="../../playground/Icons/tasks.gif">Tasks<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul class="k-group" style="display: none;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">My Tasks</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">Shared Tasks</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">Active Tasks</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">Completed Tasks</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-active"><span class="k-link k-header k-state-selected"><img alt="Notes Icon"
                                                                                          class="k-image"
                                                                                          src="../../playground/Icons/notes.gif">Notes<span
            class="k-icon k-i-arrow-n k-panelbar-collapse"></span></span>
        <ul class="k-group" style="display: block;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">My Notes</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">Notes List</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">Shared Notes</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">Archive</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-default"><span class="k-link k-header"><img alt="Folders List Icon" class="k-image"
                                                                          src="../../playground/Icons/foldersList.gif">Folders List<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul class="k-group" style="display: none;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Client.Net</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Profile</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Support Tickets</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Licenses</span>
            </li>
        </ul>
    </li>
</ul>

    <script type="text/javascript">

        var panelbar;

        $("#PanelBar1").kendoPanelBar({ animation: false });

        module("PanelBar / Selection", {
            setup: function() {
                panelbar = $("#PanelBar1").data('kendoPanelBar');
            }
        });

        test('clicking root items selects them', function() {
            var firstLink = getRootItem(0).find('> .k-link');

            firstLink.trigger({ type: 'click' });

            ok(firstLink.hasClass('k-state-selected'));
        });

        test('selecting root items deselects their siblings', function() {
            var firstLink = getRootItem(0).find('> .k-link');
            var secondLink = getRootItem(1).find('> .k-link');

            firstLink.trigger({ type: 'click' });
            secondLink.trigger({ type: 'click' });

            equal($(panelbar.element).find('.k-state-selected').length, 1);
        });

</script>

<h1 id="qunit-header">kendo.ui.PanelBar Tests</h1>
<h2 id="qunit-banner"></h2>
<div id="qunit-testrunner-toolbar"></div>
<h2 id="qunit-userAgent"></h2>
<ol id="qunit-tests"></ol>
<div id="qunit-fixture">test markup, will be hidden</div>
<ul id="log"></ul>
</body>
</html>
