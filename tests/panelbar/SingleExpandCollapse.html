<!DOCTYPE html>
<html>
    <head>
        <title>kendo.ui.panelbar Tests</title>
        <script src="../../src/jquery.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../qunit-runner.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.fx.js"></script>
        <script src="../../src/kendo.panelbar.js"></script>
        <script src="../jquery.mockjax.js"></script>
        <link rel="stylesheet" href="../qunit/qunit/qunit.css" />
        <style>
            html
            {
                font-size: 12px;
            }
            .example .k-panelbar .k-image
            {
                margin-top: 3px;
            }

            .example .k-panelbar .k-group .k-image
            {
                margin-left: 7px;
            }
        </style>
        <link href="../../styles/web/kendo.common.css" rel="stylesheet"/>

   <script type="text/javascript">

        function getRootItem(index) {
            return $('#PanelBar1').find('.k-header').parent().eq(index)
        }

        function getPanelBar() {
            return $("#PanelBar1").data("kendoPanelBar");
        }

        $(document).ready(function() {
            $("#PanelBar1").kendoPanelBar({ animation: false, expandMode: "single" });
        });

   </script>

</head>
<body>

<ul class="k-widget k-panelbar k-reset" id="PanelBar1" style="width: 300px; float: left; margin-bottom: 30px; z-index: 100; position: absolute; visibility: hidden;">
    <li class="k-item k-state-default"><span class="k-link k-header"><img alt="Mail Icon" class="k-image"
                                                                          src="../../playground/Icons/mail.gif">Mail<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul style="display: none;" class="k-group">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Personal Folders Icon" class="k-image"
                                                                         src="../../playground/Icons/mailPersonalFolders.gif">Personal Folders</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Deleted Items Icon" class="k-image"
                                                                         src="../../playground/Icons/mailDeletedItems.gif">Deleted Items</span>
            </li>
            <li class="k-item k-state-disabled"><span class="k-link"><img alt="Inbox Icon" class="k-image"
                                                                          src="../../playground/Icons/mailInbox.gif">Inbox</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="My Mail Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Mail</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Sent Items Icon" class="k-image"
                                                                         src="../../playground/Icons/mailSent.gif">Sent Items</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Outbox Icon" class="k-image"
                                                                         src="../../playground/Icons/mailOutbox.gif">Outbox</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Search Folders Icon" class="k-image"
                                                                         src="../../playground/Icons/mailSearch.gif">Search Folders</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-disabled"><span class="k-link k-header"><img alt="Contacts Icon" class="k-image"
                                                                           src="../../playground/Icons/contacts.gif">Contacts<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul class="k-group" style="display: none;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">My Contacts</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">Address Cards</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">Phone List</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Contact Icon" class="k-image"
                                                                         src="../../playground/Icons/contactsItems.gif">Shared Contacts</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-default"><span class="k-link k-header"><img alt="Tasks Icon" class="k-image"
                                                                          src="../../playground/Icons/tasks.gif">Tasks<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul class="k-group" style="display: none;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">My Tasks</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">Shared Tasks</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">Active Tasks</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Task Icon" class="k-image"
                                                                         src="../../playground/Icons/tasksItems.gif">Completed Tasks</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-active"><span class="k-link k-header k-state-selected"><img alt="Notes Icon"
                                                                                          class="k-image"
                                                                                          src="../../playground/Icons/notes.gif">Notes<span
            class="k-icon k-i-arrow-n k-panelbar-collapse"></span></span>
        <ul class="k-group" style="display: block;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">My Notes</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">Notes List</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">Shared Notes</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Note Icon" class="k-image"
                                                                         src="../../playground/Icons/notesItems.gif">Archive</span>
            </li>
        </ul>
    </li>
    <li class="k-item k-state-default"><span class="k-link k-header"><img alt="Folders List Icon" class="k-image"
                                                                          src="../../playground/Icons/foldersList.gif">Folders List<span
            class="k-icon k-i-arrow-s k-panelbar-expand"></span></span>
        <ul class="k-group" style="display: none;">
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Client.Net</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Profile</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Support Tickets</span>
            </li>
            <li class="k-item k-state-default"><span class="k-link"><img alt="Folder List Icon" class="k-image"
                                                                         src="../../playground/Icons/mailfolder.gif">My Licenses</span>
            </li>
        </ul>
    </li>
</ul>

    <script type="text/javascript">

        test('clicking item should collapse other and fire collapse on it', function() {

            var panelbar = getPanelBar(),
                item = getRootItem(3),
                item2 = getRootItem(2),
                collapseItem = false;

            panelbar.bind( "collapse", function(e) {
                collapseItem = e.item;
            });

            item2.find('> .k-link').trigger('mouseup');

            equal(item.find('.k-group').css("display"), "none");
            equal(collapseItem, item[0]);
        });

        test('clicking item twice should not collapse it', function() {

            var item = getRootItem(0);

            item.find('> .k-link').trigger('mouseup');
            item.find('> .k-link').trigger('mouseup');

            equal(item.find('.k-group').css("display"), "block");
        });

        test('clicking subItem should not collapse headerItem', function() {

            var item = getRootItem(0);
            var subItem = item.find('> .k-group').children()[0];

            $(subItem).find('> .k-link').trigger('mouseup');

            equal(item.find('.k-group').css("display"), "block");
        });

        test('clicking not expandable item should not collapse expanded item', function() {

            var item = getRootItem(0);
            var item2 = getRootItem(1);

            item2.find('> .k-link').trigger('mouseup');

            equal(item.find('.k-group').css("display"), "block");
        });

</script>

<h1 id="qunit-header">kendo.ui.PanelBar Tests</h1>
<h2 id="qunit-banner"></h2>
<div id="qunit-testrunner-toolbar"></div>
<h2 id="qunit-userAgent"></h2>
<ol id="qunit-tests"></ol>
<div id="qunit-fixture">test markup, will be hidden</div>
<ul id="log"></ul>
</body>
</html>
