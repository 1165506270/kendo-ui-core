<!DOCTYPE html>
<html>
    <head>
        <title>Splitter client creation</title>
        <script src="../../src/jquery.min.js"></script>
        <script src="../qunit/qunit/qunit.js"></script>
        <script src="../qunit-runner.js"></script>
        <script src="../../src/kendo.core.js"></script>
        <script src="../../src/kendo.draganddrop.js"></script>
        <script src="../../src/kendo.resizable.js"></script>
        <script src="../../src/kendo.splitter.js"></script>
        <script src="helper.js"></script>
        <link rel="stylesheet" href="../qunit/qunit/qunit.css" />
    </head>
    <body>
        <h1 id="qunit-header">Splitter client creation</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <script>
            test("constructor adds classes to container", function() {
                var splitter = $(getSplitterHtml(1)).kendoSplitter();

                ok(splitter.hasClass("k-widget"));
                ok(splitter.hasClass("k-splitter"));

                splitter = $(getSplitterHtml(1)).kendoSplitter({ orientation: "vertical" });

                ok(splitter.hasClass("k-splitter"));
            });

            test("constructor interprets erronious orientation as horizontal", function() {
                var splitter = $(getSplitterHtml(1)).kendoSplitter({ orientation: "diagonal" });

                ok(splitter.hasClass("k-splitter"));
            });

            test("init adds classes to child elements", function() {
                var splitter = $(getSplitterHtml(1)).kendoSplitter();

                equals(splitter.find(".k-pane").length, 1);
            });

            test("init adds splitbars between panes", function() {
                var splitter = $(getSplitterHtml(3)).kendoSplitter(),
                splitbars = splitter.find(".k-splitbar");

                equals(splitbars.length, 2);
                equals(splitbars.eq(0).index(), 1);
                equals(splitbars.eq(1).index(), 3);
            });

            test("splitbars have collapse button for collapsible panes", function() {
                var splitter = $(getSplitterHtml(3)).kendoSplitter({
                    panes: [
                    { collapsible: true },
                    {},
                    { collapsible: true }
                    ]
                }),
                splitbars = splitter.find(".k-splitbar");

                equals(splitbars.eq(0).find(".k-icon.k-collapse-prev").length, 1);
                equals(splitbars.eq(1).find(".k-icon.k-collapse-next").length, 1);
            });

            test("splitbars have resize handle between resizable panes", function() {
                var splitter = $(getSplitterHtml(3))
                .kendoSplitter({
                    panes: [
                    { resizable: false },
                    {},
                    {}
                    ]
                }),
                splitbars = splitter.find(".k-splitbar");

                equals(splitbars.eq(0).find(".k-icon.k-resize-handle").length, 0);
                equals(splitbars.eq(1).find(".k-icon.k-resize-handle").length, 1);
            });

            test("collapsed panes render expand arrow beside them", function() {
                var splitter = $(getSplitterHtml())
                .kendoSplitter({
                    panes: [
                    { collapsible: true, collapsed: true },
                    {}
                    ]
                });

                equals(splitter.find(".k-expand-prev").length, 1);
            });

            test("splibars next to initially collapsed panes are not draggable", function() {
                var splitter = $(getSplitterHtml())
                .kendoSplitter({
                    panes: [
                    { collapsible: true, collapsed: true },
                    {}
                    ]
                });

                ok(!splitter.find(".k-splitbar").hasClass("k-splitbar-draggable-horizontal"));
            });

            test("panes get k-scrollable class if they are scrollable", function() {
                var splitter = $(getSplitterHtml())
                .kendoSplitter({
                    panes: [
                    { scrollable: false },
                    {}
                    ]
                }),
                panes = splitter.find(".k-pane");

                ok(!panes.eq(0).hasClass("k-scrollable"));
                ok(panes.eq(1).hasClass("k-scrollable"));
            });
        </script>
        <div id="qunit-fixture">test markup, will be hidden</div>
        <ul id="log"></ul>
    </body>
</html>
